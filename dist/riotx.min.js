var riotx=function(r){"use strict";var n="2.0.2";r=r&&r.hasOwnProperty("default")?r["default"]:r;function t(t,n,e){if(t==null){return}var r=-1,i=t.length;while(++r<i){if(n.call(e,t[r],r,t)===false){break}}}var u=t;function e(t,n){return Object.prototype.hasOwnProperty.call(t,n)}var s=e;var c,f;function l(){f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];c=true;for(var t in{toString:null}){c=false}}function i(t,n,e){var r,i=0;if(c==null){l()}for(r in t){if(h(n,t,r,e)===false){break}}if(c){var o=t.constructor,a=!!o&&t===o.prototype;while(r=f[i++]){if((r!=="constructor"||!a&&s(t,r))&&t[r]!==Object.prototype[r]){if(h(n,t,r,e)===false){break}}}}}function h(t,n,e,r){return t.call(r,n[e],e,n)}var o=i;function a(e,r,i){o(e,function(t,n){if(s(e,n)){return r.call(i,e[n],n,e)}})}var p=a;var d=Object.keys||function(t){var e=[];p(t,function(t,n){e.push(n)});return e};var v=d;function g(t){return Object.prototype.toString.call(t).slice(8,-1)}var y=g;function m(t,n){return y(t)===n}var _=m;function w(t){return _(t,"Function")}var b=w;function j(t){return _(t,"Object")}var x=j;var T=setTimeout;function F(){}function O(t,n){return function(){t.apply(n,arguments)}}function P(t){if(!(this instanceof P)){throw new TypeError("Promises must be constructed via new")}if(typeof t!=="function"){throw new TypeError("not a function")}this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];S(t,this)}function E(e,r){while(e._state===3){e=e._value}if(e._state===0){e._deferreds.push(r);return}e._handled=true;P._immediateFn(function(){var t=e._state===1?r.onFulfilled:r.onRejected;if(t===null){(e._state===1?R:N)(r.promise,e._value);return}var n;try{n=t(e._value)}catch(t){N(r.promise,t);return}R(r.promise,n)})}function R(n,t){try{if(t===n){throw new TypeError("A promise cannot be resolved with itself.")}if(t&&(typeof t==="object"||typeof t==="function")){var e=t.then;if(t instanceof P){n._state=3;n._value=t;A(n);return}else if(typeof e==="function"){S(O(e,t),n);return}}n._state=1;n._value=t;A(n)}catch(t){N(n,t)}}function N(t,n){t._state=2;t._value=n;A(t)}function A(t){if(t._state===2&&t._deferreds.length===0){P._immediateFn(function(){if(!t._handled){P._unhandledRejectionFn(t._value)}})}for(var n=0,e=t._deferreds.length;n<e;n++){E(t,t._deferreds[n])}t._deferreds=null}function B(t,n,e){this.onFulfilled=typeof t==="function"?t:null;this.onRejected=typeof n==="function"?n:null;this.promise=e}function S(t,n){var e=false;try{t(function(t){if(e){return}e=true;R(n,t)},function(t){if(e){return}e=true;N(n,t)})}catch(t){if(e){return}e=true;N(n,t)}}P.prototype["catch"]=function(t){return this.then(null,t)};P.prototype.then=function(t,n){var e=new this.constructor(F);E(this,new B(t,n,e));return e};P.prototype["finally"]=function(n){var e=this.constructor;return this.then(function(t){return e.resolve(n()).then(function(){return t})},function(t){return e.resolve(n()).then(function(){return e.reject(t)})})};P.all=function(n){return new P(function(r,i){if(!n||typeof n.length==="undefined"){throw new TypeError("Promise.all accepts an array")}var o=Array.prototype.slice.call(n);if(o.length===0){return r([])}var a=o.length;function u(n,t){try{if(t&&(typeof t==="object"||typeof t==="function")){var e=t.then;if(typeof e==="function"){e.call(t,function(t){u(n,t)},i);return}}o[n]=t;if(--a===0){r(o)}}catch(t){i(t)}}for(var t=0;t<o.length;t++){u(t,o[t])}})};P.resolve=function(n){if(n&&typeof n==="object"&&n.constructor===P){return n}return new P(function(t){t(n)})};P.reject=function(e){return new P(function(t,n){n(e)})};P.race=function(i){return new P(function(t,n){for(var e=0,r=i.length;e<r;e++){i[e].then(t,n)}})};P._immediateFn=typeof setImmediate==="function"&&function(t){setImmediate(t)}||function(t){T(t,0)};P._unhandledRejectionFn=function t(n){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",n)}};var k=function(t){var n=[],e=arguments.length-1;while(e-- >0)n[e]=arguments[e+1];n.unshift("[riotx]");try{console.log.apply(console,n)}catch(t){console.log(n)}};var D={debug:false,default:"@",changeBindName:"riotxChange",strict:false,logger:{output:k}};var I=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];if(!D.debug){return}t.unshift("DEBUG");D.logger.output.apply(null,t)};var C=function(t){var n=new Error("[riotx] "+t);D.logger.output.apply(null,["ERROR",n]);throw n};var U=function t(n){var e=this;this.name=n.name;if(!this.name){this.name=D.default;I("Default store name. name="+this.name)}this._state=n.state;Object.defineProperty(this,"state",{get:function(){if(D.strict){C("[strict] Direct access get error.")}return e._state},set:function(t){if(D.strict){C("[strict] Direct access set error. "+t)}e._state=t}});this._actions=n.actions;this._mutations=n.mutations;this._getters=n.getters;this._plugins=n.plugins;r.observable(this);u(this._plugins,function(t){if(!b(t)||!_(t,"AsyncFunction")){C("[plugin] The plugin is not a function.")}t.apply(null,[e])})};U.prototype.reset=function t(){this.name=null;this._state=null;this._actions=null;this._mutations=null;this._getters=null;this._plugins=null;this.off("*")};U.prototype.getter=function t(n,e){if(e&&!x(e)){C("[getter]', 'The getter data is not object type. name="+n+" data="+e)}var r={state:this._state};var i=this._getters[n];if(!i||!b(i)||!_(i,"AsyncFunction")){C("[getter]', 'The getter is not a function. name="+n+" data="+e)}I("[getter]",n,e);return i.apply(null,[r,e])};U.prototype.commit=function t(n,e){var r=this;if(e&&!x(e)){C("[mutation]', 'The mutation data is not object type. name="+n+" data="+e)}var i={getter:function(t,n){return r.getter.apply(r,[t,n])},state:this._state};var o=this._mutations[n];if(!o||!b(o)||!_(o,"AsyncFunction")){C("[mutation]', 'The mutation is not a function. name="+n+" data="+e)}I("[mutation(before)]",n,this._state,e);var a=o.apply(null,[i,e]);I("[mutation(after)]",n,this._state,e);this.trigger("riotx:mutations:after",n,a,i,e);u(a,function(t){r.trigger(t,r._state,r)})};U.prototype.action=function t(n,e){var r=this;if(e&&!x(e)){C("[action]', 'The action data is not object type. name="+n+" data="+e)}var i={getter:function(t,n){return r.getter.apply(r,[t,n])},commit:function(t,n){r.commit(t,n)}};var o=this._actions[n];if(!o||!b(o)||!_(o,"AsyncFunction")){C("[action] The action is not a function. name="+n+" data="+e)}I("[action]",n,e);return P.resolve().then(function(){return o.apply(null,[i,e])})};U.prototype.change=function t(){var n;var e=[],r=arguments.length;while(r--)e[r]=arguments[r];(n=this).on.apply(n,e)};var z=function t(){this.version=n||"";this.Store=U;this.stores={};var e=function(t,n,e){var r=[],i=arguments.length-3;while(i-- >0)r[i]=arguments[i+3];this._riotx_change_handlers.push({store:t,evtName:n,handler:e});r.unshift(e);r.unshift(n);t.change.apply(t,r)};r.mixin({init:function(){var n=this;this.on("unmount",function(){n.off("*");u(n._riotx_change_handlers,function(t){t.store.off(t.evtName,t.handler)});delete n.riotx;delete n._riotx_change_handlers;delete n[D.changeBindName]});if(D.debug){this.on("*",function(t){I("[riot.mixin]",t,n)})}this._riotx_change_handlers=[];this[D.changeBindName]=e},riotx:this})};z.prototype.add=function t(n){if(this.stores[n.name]){C("[store.add] The store instance named `"+n.name+"` already exists.")}this.stores[n.name]=n;return this};z.prototype.get=function t(n){if(n===void 0)n=D.default;return this.stores[n]};z.prototype.debug=function t(n){D.debug=!!n;return this};z.prototype.setChangeBindName=function t(n){D.changeBindName=n;return this};z.prototype.strict=function t(n){D.strict=!!n;return this};z.prototype.logger=function t(n){D.logger.output=n;return this};z.prototype.reset=function t(){p(this.stores||{},function(t){t.reset()});this.stores={};return this};z.prototype.size=function t(){return v(this.stores).length};var G=new z;return G}(riot);