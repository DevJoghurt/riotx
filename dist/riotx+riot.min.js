var riotx=function(s){"use strict";var e="2.0.2";s=s&&s.hasOwnProperty("default")?s["default"]:s;function t(t,e,r){if(t==null){return}var n=-1,i=t.length;while(++n<i){if(e.call(r,t[n],n,t)===false){break}}}var u=t;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var f=r;var l,c;function p(){c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];l=true;for(var t in{toString:null}){l=false}}function n(t,e,r){var n,i=0;if(l==null){p()}for(n in t){if(h(e,t,n,r)===false){break}}if(l){var a=t.constructor,o=!!a&&t===a.prototype;while(n=c[i++]){if((n!=="constructor"||!o&&f(t,n))&&t[n]!==Object.prototype[n]){if(h(e,t,n,r)===false){break}}}}}function h(t,e,r,n){return t.call(n,e[r],r,e)}var a=n;function i(r,n,i){a(r,function(t,e){if(f(r,e)){return n.call(i,r[e],e,r)}})}var o=i;var v=Object.keys||function(t){var r=[];o(t,function(t,e){r.push(e)});return r};var d=v;function g(t){return Object.prototype.toString.call(t).slice(8,-1)}var m=g;function y(t,e){return m(t)===e}var _=y;function w(t){return _(t,"Function")}var x=w;function b(t){return _(t,"Object")}var N=b;var A=setTimeout;function O(){}function j(t,e){return function(){t.apply(e,arguments)}}function C(t){if(!(this instanceof C)){throw new TypeError("Promises must be constructed via new")}if(typeof t!=="function"){throw new TypeError("not a function")}this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];R(t,this)}function T(r,n){while(r._state===3){r=r._value}if(r._state===0){r._deferreds.push(n);return}r._handled=true;C._immediateFn(function(){var t=r._state===1?n.onFulfilled:n.onRejected;if(t===null){(r._state===1?E:k)(n.promise,r._value);return}var e;try{e=t(r._value)}catch(t){k(n.promise,t);return}E(n.promise,e)})}function E(e,t){try{if(t===e){throw new TypeError("A promise cannot be resolved with itself.")}if(t&&(typeof t==="object"||typeof t==="function")){var r=t.then;if(t instanceof C){e._state=3;e._value=t;L(e);return}else if(typeof r==="function"){R(j(r,t),e);return}}e._state=1;e._value=t;L(e)}catch(t){k(e,t)}}function k(t,e){t._state=2;t._value=e;L(t)}function L(t){if(t._state===2&&t._deferreds.length===0){C._immediateFn(function(){if(!t._handled){C._unhandledRejectionFn(t._value)}})}for(var e=0,r=t._deferreds.length;e<r;e++){T(t,t._deferreds[e])}t._deferreds=null}function S(t,e,r){this.onFulfilled=typeof t==="function"?t:null;this.onRejected=typeof e==="function"?e:null;this.promise=r}function R(t,e){var r=false;try{t(function(t){if(r){return}r=true;E(e,t)},function(t){if(r){return}r=true;k(e,t)})}catch(t){if(r){return}r=true;k(e,t)}}C.prototype["catch"]=function(t){return this.then(null,t)};C.prototype.then=function(t,e){var r=new this.constructor(O);T(this,new S(t,e,r));return r};C.prototype["finally"]=function(e){var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){return r.reject(t)})})};C.all=function(e){return new C(function(n,i){if(!e||typeof e.length==="undefined"){throw new TypeError("Promise.all accepts an array")}var a=Array.prototype.slice.call(e);if(a.length===0){return n([])}var o=a.length;function s(e,t){try{if(t&&(typeof t==="object"||typeof t==="function")){var r=t.then;if(typeof r==="function"){r.call(t,function(t){s(e,t)},i);return}}a[e]=t;if(--o===0){n(a)}}catch(t){i(t)}}for(var t=0;t<a.length;t++){s(t,a[t])}})};C.resolve=function(e){if(e&&typeof e==="object"&&e.constructor===C){return e}return new C(function(t){t(e)})};C.reject=function(r){return new C(function(t,e){e(r)})};C.race=function(i){return new C(function(t,e){for(var r=0,n=i.length;r<n;r++){i[r].then(t,e)}})};C._immediateFn=typeof setImmediate==="function"&&function(t){setImmediate(t)}||function(t){A(t,0)};C._unhandledRejectionFn=function t(e){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",e)}};function I(t,e){return(e||document).querySelector(t)}var P=[],M={},B="yield",F="__global_mixin",V="riot-",$=["ref","data-ref"],U="data-is",H="if",D="each",z="no-reorder",K="show",q="hide",G="key",W="__riot-events__",Z="string",Q="object",J="undefined",X="function",Y="http://www.w3.org/1999/xlink",tt="http://www.w3.org/2000/svg",et=/^xlink:(\w+)/,rt=typeof window===J?undefined:window,nt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,it=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,at=/^on/,ot=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,st={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},ut=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,ft=(rt&&rt.document||{}).documentMode|0;function lt(t){return t==="svg"?document.createElementNS(tt,t):document.createElement(t)}function ct(t,e,r){var n=et.exec(e);if(n&&n[1]){t.setAttributeNS(Y,n[1],r)}else{t.setAttribute(e,r)}}var pt;var ht;var vt={};var dt=[];var gt=false;if(rt){pt=function(){var t=lt("style");var e=I("style[type=riot]");ct(t,"type","text/css");if(e){if(e.id){t.id=e.id}e.parentNode.replaceChild(t,e)}else{document.head.appendChild(t)}return t}();ht=pt.styleSheet}var mt={styleNode:pt,add:function t(e,r){if(r){vt[r]=e}else{dt.push(e)}gt=true},inject:function t(){if(!rt||!gt){return}gt=false;var e=Object.keys(vt).map(function(t){return vt[t]}).concat(dt).join("\n");if(ht){ht.cssText=e}else{pt.innerHTML=e}}};var yt=function(){var u="[{(,;:?=|&!^~>%*/";var f=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"];var l=f.reduce(function(t,e){return t+e.slice(-1)},"");var c=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/;var p=/[$\w]/;function h(t,e){while(--e>=0&&/\s/.test(t[e])){}return e}function t(t,e){var r=/.*/g;var n=r.lastIndex=e++;var i=r.exec(t)[0].match(c);if(i){var a=n+i[0].length;n=h(t,n);var o=t[n];if(n<0||~u.indexOf(o)){return a}if(o==="."){if(t[n-1]==="."){e=a}}else if(o==="+"||o==="-"){if(t[--n]!==o||(n=h(t,n))<0||!p.test(t[n])){e=a}}else if(~l.indexOf(o)){var s=n+1;while(--n>=0&&p.test(t[n])){}if(~f.indexOf(t.slice(n+1,s))){e=a}}}return e}return t}();var _t=function(t){var r="g",e=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,n=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,i=n.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,a=RegExp("[\\"+"x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),o=/(?=[[\]()*+?.^$|])/g,s=n.source+"|"+/(\/)(?![*\/])/.source,_={"(":RegExp("([()])|"+s,r),"[":RegExp("([[\\]])|"+s,r),"{":RegExp("([{}])|"+s,r)},u="{ }";var f=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+s,r),u,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/];var l=t,c,w=[],p;function h(t){return t}function v(t,e){if(!e){e=w}return new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?r:"")}function d(t){if(t===u){return f}var e=t.split(" ");if(e.length!==2||a.test(t)){throw new Error('Unsupported brackets "'+t+'"')}e=e.concat(t.replace(o,"\\").split(" "));e[4]=v(e[1].length>1?/{[\S\s]*?}/:f[4],e);e[5]=v(t.length>3?/\\({|})/g:f[5],e);e[6]=v(f[6],e);e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+s,r);e[8]=t;return e}function g(t){return t instanceof RegExp?c(t):w[t]}g.split=function t(n,i,e){if(!e){e=w}var r=[],a,o,s,u,f=e[6];var l=[];var c="";var p,h;o=s=f.lastIndex=0;while(a=f.exec(n)){h=f.lastIndex;u=a.index;if(o){if(a[2]){var v=a[2];var d=_[v];var g=1;d.lastIndex=h;while(a=d.exec(n)){if(a[1]){if(a[1]===v){++g}else if(!--g){break}}else{d.lastIndex=y(a.index,d.lastIndex,a[2])}}f.lastIndex=g?n.length:d.lastIndex;continue}if(!a[3]){f.lastIndex=y(u,h,a[4]);continue}}if(!a[1]){m(n.slice(s,u));s=f.lastIndex;f=e[6+(o^=1)];f.lastIndex=s}}if(n&&s<n.length){m(n.slice(s))}r.qblocks=l;return r;function m(t){if(c){t=c+t;c=""}if(i||o){r.push(t&&t.replace(e[5],"$1"))}else{r.push(t)}}function y(t,e,r){if(r){e=yt(n,t)}if(i&&e>t+2){p="‚Åó"+l.length+"~";l.push(n.slice(t,e));c+=n.slice(s,t)+p;s=e}return e}};g.hasExpr=function t(e){return w[4].test(e)};g.loopKeys=function t(e){var r=e.match(w[9]);return r?{key:r[1],pos:r[2],val:w[0]+r[3].trim()+w[1]}:{val:e.trim()}};g.array=function t(e){return e?d(e):w};function m(t){if((t||(t=u))!==w[8]){w=d(t);c=t===u?h:v;w[9]=c(f[9])}l=t}function y(t){var e;t=t||{};e=t.brackets;Object.defineProperty(t,"brackets",{set:m,get:function(){return l},enumerable:true});p=t;m(e)}Object.defineProperty(g,"settings",{set:y,get:function(){return p}});g.settings=typeof riot!=="undefined"&&riot.settings||{};g.set=m;g.skipRegex=yt;g.R_STRINGS=n;g.R_MLCOMMS=e;g.S_QBLOCKS=i;g.S_QBLOCK2=s;return g}();var wt=function(){var r={};function n(t,e){if(!t){return t}return(r[t]||(r[t]=a(t))).call(e,i.bind({data:e,tmpl:t}))}n.hasExpr=_t.hasExpr;n.loopKeys=_t.loopKeys;n.clearCache=function(){r={}};n.errorHandler=null;function i(t,e){t.riotData={tagName:e&&e.__&&e.__.tagName,_riot_id:e&&e._riot_id};if(n.errorHandler){n.errorHandler(t)}else if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(t.message);console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl);console.log(this.data)}}function a(t){var e=o(t);if(e.slice(0,11)!=="try{return "){e="return "+e}return new Function("E",e+";")}var s=/\u2057/g;var u=/\u2057(\d+)~/g;function o(t){var e=_t.split(t.replace(s,'"'),1);var r=e.qblocks;var n;if(e.length>2||e[0]){var i,a,o=[];for(i=a=0;i<e.length;++i){n=e[i];if(n&&(n=i&1?f(n,1,r):'"'+n.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')){o[a++]=n}}n=a<2?o[0]:"["+o.join(",")+'].join("")'}else{n=f(e[1],0,r)}if(r.length){n=n.replace(u,function(t,e){return r[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})}return n}var l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/;var c={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function f(a,t,e){a=a.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1");if(a){var r=[],n=0,i;while(a&&(i=a.match(l))&&!i.index){var o,s,u=/,|([[{(])|$/g;a=RegExp.rightContext;o=i[2]?e[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];while(s=(i=u.exec(a))[1]){f(s,u)}s=a.slice(0,i.index);a=RegExp.rightContext;r[n++]=d(s,1,o)}a=!n?d(a,t):n>1?"["+r.join(",")+'].join(" ").trim()':r[0]}return a;function f(t,e){var r,n=1,i=c[t];i.lastIndex=e.lastIndex;while(r=i.exec(a)){if(r[0]===t){++n}else if(!--n){break}}e.lastIndex=n?a.length:i.lastIndex}}var p='"in this?this:'+(typeof window!=="object"?"global":"window")+").",h=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,v=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function d(t,e,r){var a;t=t.replace(h,function(t,e,r,n,i){if(r){n=a?0:n+t.length;if(r!=="this"&&r!=="global"&&r!=="window"){t=e+'("'+r+p+r;if(n){a=(i=i[n])==="."||i==="("||i==="["}}else if(n){a=!v.test(i.slice(n))}}return t});if(a){t="try{return "+t+"}catch(e){E(e,this)}"}if(r){t=(a?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+r+'":""'}else if(e){t="function(v){"+(a?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'}return t}n.version=_t.version="v3.0.8";return n}();var xt=function(s){s=s||{};var u={},f=Array.prototype.slice;Object.defineProperties(s,{on:{value:function(t,e){if(typeof e=="function"){(u[t]=u[t]||[]).push(e)}return s},enumerable:false,writable:false,configurable:false},off:{value:function(t,e){if(t=="*"&&!e){u={}}else{if(e){var r=u[t];for(var n=0,i;i=r&&r[n];++n){if(i==e){r.splice(n--,1)}}}else{delete u[t]}}return s},enumerable:false,writable:false,configurable:false},one:{value:function(t,e){function r(){s.off(t,r);e.apply(s,arguments)}return s.on(t,r)},enumerable:false,writable:false,configurable:false},trigger:{value:function(t){var e=arguments;var r=arguments.length-1,n=new Array(r),i,a,o;for(o=0;o<r;o++){n[o]=e[o+1]}i=f.call(u[t]||[],0);for(o=0;a=i[o];++o){a.apply(s,n)}if(u["*"]&&t!="*"){s.trigger.apply(s,["*",t].concat(n))}return s},enumerable:false,writable:false,configurable:false}});return s};function bt(t,e){return Object.getOwnPropertyDescriptor(t,e)}function Nt(t){return typeof t===J}function At(t,e){var r=bt(t,e);return Nt(t[e])||r&&r.writable}function Ot(t){var e;var r=1;var n=arguments;var i=n.length;for(;r<i;r++){if(e=n[r]){for(var a in e){if(At(t,a)){t[a]=e[a]}}}}return t}function jt(t){return Object.create(t)}var Ct=Ot(jt(_t.settings),{skipAnonymousTags:true,autoUpdate:true});function Tt(t,e){return[].slice.call((e||document).querySelectorAll(t))}function Et(){return document.createTextNode("")}function kt(t,e){t.style.display=e?"":"none";t.hidden=e?false:true}function Lt(t,e){return t.getAttribute(e)}function St(t,e){t.removeAttribute(e)}function Rt(t,e,r){if(r){var n=t.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+tt+'">'+e+"</svg>","application/xml").documentElement,true);t.appendChild(n)}else{t.innerHTML=e}}function It(t,e){if(!t){return}var r;while(r=ot.exec(t)){e(r[1].toLowerCase(),r[2]||r[3]||r[4])}}function Pt(){return document.createDocumentFragment()}function Mt(t,e,r){t.insertBefore(e,r.parentNode&&r)}function Bt(r){return Object.keys(r).reduce(function(t,e){return t+" "+e+": "+r[e]+";"},"")}function Ft(t,e,r){if(t){var n=e(t,r);var i;if(n===false){return}t=t.firstChild;while(t){i=t.nextSibling;Ft(t,e,n);t=i}}}var Vt=Object.freeze({$$:Tt,$:I,createDOMPlaceholder:Et,mkEl:lt,setAttr:ct,toggleVisibility:kt,getAttr:Lt,remAttr:St,setInnerHTML:Rt,walkAttrs:It,createFrag:Pt,safeInsert:Mt,styleObjectToString:Bt,walkNodes:Ft});function $t(t){return Nt(t)||t===null}function Ut(t){return $t(t)||t===""}function Ht(t){return typeof t===X}function Dt(t){return t&&typeof t===Q}function zt(t){var e=t.ownerSVGElement;return!!e||e===null}function Kt(t){return Array.isArray(t)||t instanceof Array}function qt(t){return ut.test(t)}function Gt(t){return typeof t===Z}var Wt=Object.freeze({isBlank:Ut,isFunction:Ht,isObject:Dt,isSvg:zt,isWritable:At,isArray:Kt,isBoolAttr:qt,isNil:$t,isString:Gt,isUndefined:Nt});function Zt(t,e){return t.indexOf(e)!==-1}function Qt(t,e){var r=t?t.length:0;var n=0;for(;n<r;n++){e(t[n],n)}return t}function Jt(t,e){return t.slice(0,e.length)===e}var Xt=function t(){var e=-1;return function(){return++e}}();function Yt(t,e,r,n){Object.defineProperty(t,e,Ot({value:r,enumerable:false,writable:false,configurable:true},n));return t}function te(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function ee(t){if(console&&console.warn){console.warn(t)}}var re=Object.freeze({contains:Zt,each:Qt,getPropDescriptor:bt,startsWith:Jt,uid:Xt,defineProperty:Yt,objectCreate:jt,extend:Ot,toCamel:te,warn:ee});function ne(t,e,r,n,i){var a=t[e];var o=Kt(a);var s=!Nt(i);if(a&&a===r){return}if(!a&&n){t[e]=[r]}else if(!a){t[e]=r}else{if(o){var u=a.indexOf(r);if(u===i){return}if(u!==-1){a.splice(u,1)}if(s){a.splice(i,0,r)}else{a.push(r)}}else{t[e]=[a,r]}}}function ie(t){return t.tagName&&M[Lt(t,U)||Lt(t,U)||t.tagName.toLowerCase()]}function ae(t,e){var r=ie(t);var n=!e&&Lt(t,U);return n&&!wt.hasExpr(n)?n:r?r.name:t.tagName.toLowerCase()}function oe(){if(this.parent){return Ot(jt(this),this.parent)}return this}var se=/<yield\b/i,ue=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,fe=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,le=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,ce={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},pe=ft&&ft<10?nt:it,he="div",ve="svg";function de(t,e,r){var n=r[0]==="o",i=n?"select>":"table>";t.innerHTML="<"+i+e.trim()+"</"+i;i=t.firstChild;if(n){i.selectedIndex=-1}else{var a=ce[r];if(a&&i.childElementCount===1){i=I(a,i)}}return i}function ge(t,r){if(!se.test(t)){return t}var n={};r=r&&r.replace(fe,function(t,e,r){n[e]=n[e]||r;return""}).trim();return t.replace(le,function(t,e,r){return n[e]||r||""}).replace(ue,function(t,e){return r||e||""})}function me(t,e,r){var n=t&&t.match(/^\s*<([-\w]+)/);var i=n&&n[1].toLowerCase();var a=lt(r?ve:he);t=ge(t,e);if(pe.test(i)){a=de(a,t,i)}else{Rt(a,t,r)}return a}function ye(t){var e=t;while(e.__.isAnonymous){if(!e.parent){break}e=e.parent}return e}function _e(t,e,r){var n=this.__.parent;var i=this.__.item;if(!i){while(n&&!i){i=n.__.item;n=n.__.parent}}if(At(r,"currentTarget")){r.currentTarget=t}if(At(r,"target")){r.target=r.srcElement}if(At(r,"which")){r.which=r.charCode||r.keyCode}r.item=i;e.call(this,r);if(!Ct.autoUpdate){return}if(!r.preventUpdate){var a=ye(this);if(a.isMounted){a.update()}}}function we(t,e,r,n){var i;var a=_e.bind(n,r,e);r[t]=null;i=t.replace(at,"");if(!Zt(n.__.listeners,r)){n.__.listeners.push(r)}if(!r[W]){r[W]={}}if(r[W][t]){r.removeEventListener(i,r[W][t])}r[W][t]=a;r.addEventListener(i,a,false)}function xe(t,e,r,n){var i=pr(t,e,r);var a=e.tagName||ae(e.root,true);var o=ye(n);Yt(i,"parent",o);i.__.parent=n;ne(o.tags,a,i);if(o!==n){ne(n.tags,a,i)}return i}function be(t,e,r,n){if(Kt(t[e])){var i=t[e].indexOf(r);if(i!==-1){t[e].splice(i,1)}if(!t[e].length){delete t[e]}else if(t[e].length===1&&!n){t[e]=t[e][0]}}else if(t[e]===r){delete t[e]}}function Ne(t,e){var r=this;var n=Et();var i=Et();var a=Pt();var o;var s;this.root.insertBefore(n,this.root.firstChild);this.root.appendChild(i);this.__.head=s=n;this.__.tail=i;while(s){o=s.nextSibling;a.appendChild(s);r.__.virts.push(s);s=o}if(e){t.insertBefore(a,e.__.head)}else{t.appendChild(a)}}function Ae(t,e){var r=Pt();Ne.call(t,r);e.parentNode.replaceChild(r,e)}function Oe(t,e,r){var n=t.tag||t.dom._tag;var i;var a=n?n.__:{};var o=a.head;var s=t.dom.tagName==="VIRTUAL";if(n&&t.tagName===r){n.update();return}if(n){if(s){i=Et();o.parentNode.insertBefore(i,o)}n.unmount(true)}if(!Gt(r)){return}t.impl=M[r];if(!t.impl){return}t.tag=n=xe(t.impl,{root:t.dom,parent:e,tagName:r},t.dom.innerHTML,e);Qt(t.attrs,function(t){return ct(n.root,t.name,t.value)});t.tagName=r;n.mount();if(s){Ae(n,i||n.root)}e.__.onUnmount=function(){var t=n.opts.dataIs;be(n.parent.tags,t,n);be(n.__.parent.tags,t,n);n.unmount()}}function je(t){if(!t){return null}t=t.replace(V,"");if(st[t]){t=st[t]}return t}function Ce(t){if(this.root&&Lt(this.root,"virtualized")){return}var e=t.dom;var r=je(t.attr);var n=Zt([K,q],r);var i=t.root&&t.root.tagName==="VIRTUAL";var a=this.__;var o=a.isAnonymous;var s=e&&(t.parent||e.parentNode);var u=r==="style";var f=r==="class";var l;if(t._riot_id){if(t.__.wasCreated){t.update()}else{t.mount();if(i){Ae(t,t.root)}}return}if(t.update){return t.update()}var c=n&&!o?oe.call(this):this;l=wt(t.expr,c);var p=!Ut(l);var h=Dt(l);if(h){if(f){l=wt(JSON.stringify(l),this)}else if(u){l=Bt(l)}}if(t.attr&&(!t.wasParsedOnce||!p||l===false)){St(e,Lt(e,t.attr)?t.attr:r)}if(t.bool){l=l?r:false}if(t.isRtag){return Oe(t,this,l)}if(t.wasParsedOnce&&t.value===l){return}t.value=l;t.wasParsedOnce=true;if(h&&!f&&!u&&!n){return}if(!p){l=""}if(!r){l+="";if(s){t.parent=s;if(s.tagName==="TEXTAREA"){s.value=l;if(!ft){e.nodeValue=l}}else{e.nodeValue=l}}return}if(Ht(l)){we(r,l,e,this)}else if(n){kt(e,r===q?!l:l)}else{if(t.bool){e[r]=l}if(r==="value"&&e.value!==l){e.value=l}else if(p&&l!==false){ct(e,r,l)}if(u&&e.hidden){kt(e,false)}}}function Te(t){Qt(t,Ce.bind(this))}function Ee(t,e,r,n,i){if(t&&r){return}var a=t?oe.call(this):e||this;Qt(i,function(t){if(t.expr){Ce.call(a,t.expr)}n[te(t.name).replace(V,"")]=t.expr?t.expr.value:t.value})}function ke(t,e,r){var n=t.__;var i={};var a=t.isMounted&&!n.skipAnonymous;if(n.isAnonymous&&n.parent){Ot(t,n.parent)}Ot(t,e);Ee.apply(t,[n.isLoop,n.parent,n.isAnonymous,i,n.instAttrs]);if(a&&t.isMounted&&Ht(t.shouldUpdate)&&!t.shouldUpdate(e,i)){return t}Ot(t.opts,i);if(a){t.trigger("update",e)}Te.call(t,r);if(a){t.trigger("updated")}return t}function Le(t){if(!t){var e=Object.keys(M);return e+Le(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var r=e.trim().toLowerCase();return t+",["+U+'="'+r+'"]'},"")}function Se(t,e){var r=this;var n=r.name;var i=r.tmpl;var a=r.css;var o=r.attrs;var s=r.onCreate;if(!M[n]){Re(n,i,a,o,s);M[n].class=this.constructor}hr(t,n,e,this);if(a){mt.inject()}return this}function Re(t,e,r,n,i){if(Ht(n)){i=n;if(/^[\w-]+\s?=/.test(r)){n=r;r=""}else{n=""}}if(r){if(Ht(r)){i=r}else{mt.add(r)}}t=t.toLowerCase();M[t]={name:t,tmpl:e,attrs:n,fn:i};return t}function Ie(t,e,r,n,i){if(r){mt.add(r,t)}M[t]={name:t,tmpl:e,attrs:n,fn:i};return t}function Pe(t,n,i){var a=[];var e,r;function o(t){if(t.tagName){var e=Lt(t,U),r;if(n&&e!==n){e=n;ct(t,U,n)}r=hr(t,e||t.tagName.toLowerCase(),i);if(r){a.push(r)}}else if(t.length){Qt(t,o)}}mt.inject();if(Dt(n)){i=n;n=0}if(Gt(t)){t=t==="*"?r=Le():t+Le(t.split(/, */));e=t?Tt(t):[]}else{e=t}if(n==="*"){n=r||Le();if(e.tagName){e=Tt(n,e)}else{var s=[];Qt(e,function(t){return s.push(Tt(n,t))});e=s}n=0}o(e);return a}var Me={};var Be=Me[F]={};var Fe=0;function Ve(t,e,r){if(Dt(t)){Ve("__"+Fe+++"__",t,true);return}var n=r?Be:Me;if(!e){if(Nt(n[t])){throw new Error("Unregistered mixin: "+t)}return n[t]}n[t]=Ht(e)?Ot(e.prototype,n[t]||{})&&e:Ot(n[t]||{},e)}function $e(){return Qt(P,function(t){return t.update()})}function Ue(t){M[t]=null}var He="WIP";var De=Object.freeze({Tag:Se,tag:Re,tag2:Ie,mount:Pe,mixin:Ve,update:$e,unregister:Ue,version:He});function ze(o){var t=[],e=arguments.length-1;while(e-- >0)t[e]=arguments[e+1];Qt(t,function(t){var n;var e;var r=[];var i=["init","__proto__"];t=Gt(t)?Ve(t):t;if(Ht(t)){n=new t}else{n=t}var a=Object.getPrototypeOf(n);do{r=r.concat(Object.getOwnPropertyNames(e||n))}while(e=Object.getPrototypeOf(e||n));Qt(r,function(t){if(!Zt(i,t)){var e=bt(n,t)||bt(a,t);var r=e&&(e.get||e.set);if(!o.hasOwnProperty(t)&&r){Object.defineProperty(o,t,e)}else{o[t]=Ht(n[t])?n[t].bind(o):n[t]}}});if(n.init){n.init.bind(o)(o.opts)}});return o}function Ke(t,e){var r=this.parent;var n;if(!r){return}n=r.tags[t];if(Kt(n)){n.splice(e,0,n.splice(n.indexOf(this),1)[0])}else{ne(r.tags,t,this)}}function qe(t,e){var r=this;var n=this.__.head;var i;var a=Pt();while(n){i=n.nextSibling;a.appendChild(n);n=i;if(n===r.__.tail){a.appendChild(n);t.insertBefore(a,e.__.head);break}}}function Ge(t,e,r,n){var i=n?jt(n):{};i[t.key]=e;if(t.pos){i[t.pos]=r}return i}function We(t,e){var r=e.length;var n=t.length;while(r>n){r--;Ze.apply(e[r],[e,r])}}function Ze(t,e){t.splice(e,1);this.unmount();be(this.parent,this,this.__.tagName,true)}function Qe(e){var r=this;Qt(Object.keys(this.tags),function(t){Ke.apply(r.tags[t],[t,e])})}function Je(t,e,r){if(r){qe.apply(this,[t,e])}else{Mt(t,this.root,e.root)}}function Xe(t,e,r){if(r){Ne.apply(this,[t,e])}else{Mt(t,this.root,e.root)}}function Ye(t,e){if(e){Ne.call(this,t)}else{t.appendChild(this.root)}}function tr(t,e,r,n){if(t){return n?wt(t,r):e[t]}return e}function er(d,g,m){var y=typeof Lt(d,z)!==Z||St(d,z);var _=Lt(d,G);var w=_?wt.hasExpr(_):false;var x=ae(d);var b=M[x];var t=d.parentNode;var e=Et();var N=ie(d);var n=Lt(d,H);var A=[];var O=true;var j=d.innerHTML;var C=!M[x];var T=d.tagName==="VIRTUAL";var E=[];var k;St(d,D);St(d,G);m=wt.loopKeys(m);m.isLoop=true;if(n){St(d,H)}t.insertBefore(e,d);t.removeChild(d);m.update=function t(){m.value=wt(m.val,g);var c=m.value;var p=Pt();var r=!Kt(c)&&!Gt(c);var h=e.parentNode;var v=[];if(!h){return}if(r){k=c||false;c=k?Object.keys(c).map(function(t){return Ge(m,c[t],t)}):[]}else{k=false}if(n){c=c.filter(function(t,e){if(m.key&&!r){return!!wt(n,Ge(m,t,e,g))}return!!wt(n,Ot(jt(g),t))})}Qt(c,function(t,e){var r=!k&&m.key?Ge(m,t,e):t;var n=tr(_,t,r,w);var i=y&&typeof t===Q&&!k;var a=E.indexOf(n);var o=a===-1;var s=!o&&i?a:e;var u=A[s];var f=e>=E.length;var l=i&&o||!i&&!u;if(l){u=pr(b,{parent:g,isLoop:O,isAnonymous:C,tagName:x,root:d.cloneNode(C),item:r,index:e},j);u.mount();if(f){Ye.apply(u,[p||h,T])}else{Xe.apply(u,[h,A[e],T])}if(!f){E.splice(e,0,r)}A.splice(e,0,u);if(N){ne(g.tags,x,u,true)}}else if(s!==e&&i){if(_||Zt(c,E[s])){Je.apply(u,[h,A[e],T]);A.splice(e,0,A.splice(s,1)[0]);E.splice(e,0,E.splice(s,1)[0])}if(m.pos){u[m.pos]=e}if(!N&&u.tags){Qe.call(u,e)}}Ot(u.__,{item:r,index:e,parent:g});v[e]=n;if(!l){u.update(r)}});We(c,A);E=v.slice();h.insertBefore(p,e)};m.unmount=function(){Qt(A,function(t){t.unmount()})};return m}var rr={init:function t(e,r,n,i){this.dom=e;this.attr=n;this.rawValue=i;this.parent=r;this.hasExp=wt.hasExpr(i);return this},update:function t(){var e=this.value;var r=this.parent&&ye(this.parent);var n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?wt(this.rawValue,this.parent):this.rawValue;if(!Ut(e)&&r){be(r.refs,e,n)}if(!Ut(this.value)&&Gt(this.value)){if(r){ne(r.refs,this.value,n,null,this.parent.__.index)}if(this.value!==e){ct(this.dom,this.attr,this.value)}}else{St(this.dom,this.attr)}if(!this.dom.__ref){this.dom.__ref=n}},unmount:function t(){var e=this.tag||this.dom;var r=this.parent&&ye(this.parent);if(!Ut(this.value)&&r){be(r.refs,this.value,e)}}};function nr(t,e,r,n){return jt(rr).init(t,e,r,n)}function ir(t){Qt(t,function(t){if(t.unmount){t.unmount(true)}else if(t.tagName){t.tag.unmount(true)}else if(t.unmount){t.unmount()}})}var ar={init:function t(e,r,n){St(e,H);Ot(this,{tag:r,expr:n,stub:Et(),pristine:e});var i=e.parentNode;i.insertBefore(this.stub,e);i.removeChild(e);return this},update:function t(){this.value=wt(this.expr,this.tag);if(this.value&&!this.current){this.current=this.pristine.cloneNode(true);this.stub.parentNode.insertBefore(this.current,this.stub);this.expressions=sr.apply(this.tag,[this.current,true])}else if(!this.value&&this.current){ir(this.expressions);if(this.current._tag){this.current._tag.unmount()}else if(this.current.parentNode){this.current.parentNode.removeChild(this.current)}this.current=null;this.expressions=[]}if(this.value){Te.call(this.tag,this.expressions)}},unmount:function t(){ir(this.expressions||[])}};function or(t,e,r){return jt(ar).init(t,e,r)}function sr(o,s){var u=this;var f=[];Ft(o,function(t){var e=t.nodeType;var r;var n;if(!s&&t===o){return}if(e===3&&t.parentNode.tagName!=="STYLE"&&wt.hasExpr(t.nodeValue)){f.push({dom:t,expr:t.nodeValue})}if(e!==1){return}var i=t.tagName==="VIRTUAL";if(r=Lt(t,D)){if(i){ct(t,"loopVirtual",true)}f.push(er(t,u,r));return false}if(r=Lt(t,H)){f.push(or(t,u,r));return false}if(r=Lt(t,U)){if(wt.hasExpr(r)){f.push({isRtag:true,expr:r,dom:t,attrs:[].slice.call(t.attributes)});return false}}n=ie(t);if(i){if(Lt(t,"virtualized")){t.parentElement.removeChild(t)}if(!n&&!Lt(t,"virtualized")&&!Lt(t,"loopVirtual")){n={tmpl:t.outerHTML}}}if(n&&(t!==o||s)){if(i){if(Lt(t,U)){ee("Virtual tags shouldn't be used together with the \""+U+'" attribute - https://github.com/riot/riot/issues/2511')}ct(t,"virtualized",true);var a=pr({tmpl:t.outerHTML},{root:t,parent:u},t.innerHTML);f.push(a)}else{f.push(xe(n,{root:t,parent:u},t.innerHTML,u));return false}}ur.apply(u,[t,t.attributes,function(t,e){if(!e){return}f.push(e)}])});return f}function ur(i,t,a){var o=this;Qt(t,function(t){if(!t){return false}var e=t.name;var r=qt(e);var n;if(Zt($,e)&&i.tagName.toLowerCase()!==B){n=nr(i,o,e,t.value)}else if(wt.hasExpr(t.value)){n={dom:i,expr:t.value,attr:e,bool:r}}a(t,n)})}function fr(t){var e=this.__;var r=e.isAnonymous;Yt(this,"isMounted",t);if(!r){if(t){this.trigger("mount")}else{this.trigger("unmount");this.off("*");this.__.wasCreated=false}}}function lr(r,t,n,e){var i=r.__;var a=i.root;a._tag=r;ur.apply(i.parent,[a,a.attributes,function(t,e){if(!i.isAnonymous&&rr.isPrototypeOf(e)){e.tag=r}t.expr=e;i.instAttrs.push(t)}]);It(i.impl.attrs,function(t,e){i.implAttrs.push({name:t,value:e})});ur.apply(r,[a,i.implAttrs,function(t,e){if(e){n.push(e)}else{ct(a,t.name,t.value)}}]);Ee.apply(r,[i.isLoop,i.parent,i.isAnonymous,e,i.instAttrs]);var o=Ve(F);if(o&&!i.skipAnonymous){for(var s in o){if(o.hasOwnProperty(s)){r.mixin(o[s])}}}if(i.impl.fn){i.impl.fn.call(r,e)}if(!i.skipAnonymous){r.trigger("before-mount")}Qt(sr.apply(r,[t,i.isAnonymous]),function(t){return n.push(t)});r.update(i.item);if(!i.isAnonymous&&!i.isInline){while(t.firstChild){a.appendChild(t.firstChild)}}Yt(r,"root",a);if(!i.skipAnonymous&&r.parent){var u=ye(r.parent);u.one(!u.isMounted?"mount":"updated",function(){fr.call(r,true)})}else{fr.call(r,true)}r.__.wasCreated=true;return r}function cr(e,t,r){var n=e.__;var i=n.root;var a=P.indexOf(e);var o=i.parentNode;if(!n.skipAnonymous){e.trigger("before-unmount")}It(n.impl.attrs,function(t){if(Jt(t,V)){t=t.slice(V.length)}St(i,t)});e.__.listeners.forEach(function(e){Object.keys(e[W]).forEach(function(t){e.removeEventListener(t,e[W][t])})});if(a!==-1){P.splice(a,1)}if(n.parent&&!n.isAnonymous){var s=ye(n.parent);if(n.isVirtual){Object.keys(e.tags).forEach(function(t){return be(s.tags,t,e.tags[t])})}else{be(s.tags,n.tagName,e)}}if(e.__.virts){Qt(e.__.virts,function(t){if(t.parentNode){t.parentNode.removeChild(t)}})}ir(r);Qt(n.instAttrs,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()});if(t){Rt(i,"")}else if(o){o.removeChild(i)}if(n.onUnmount){n.onUnmount()}if(!e.isMounted){fr.call(e,true)}fr.call(e,false);delete i._tag;return e}function pr(t,e,r){if(t===void 0)t={};if(e===void 0)e={};var n=e.context||{};var i=Ot({},e.opts);var a=e.parent;var o=e.isLoop;var s=!!e.isAnonymous;var u=Ct.skipAnonymousTags&&s;var f=e.item;var l=e.index;var c=[];var p=[];var h=[];var v=e.root;var d=e.tagName||ae(v);var g=d==="virtual";var m=!g&&!t.tmpl;var y;if(!u){xt(n)}if(t.name&&v._tag){v._tag.unmount(true)}Yt(n,"isMounted",false);Yt(n,"__",{impl:t,root:v,skipAnonymous:u,implAttrs:p,isAnonymous:s,instAttrs:c,innerHTML:r,tagName:d,index:l,isLoop:o,isInline:m,item:f,parent:a,listeners:[],virts:[],wasCreated:false,tail:null,head:null});Yt(n,"_riot_id",Xt());Yt(n,"root",v);Ot(n,{opts:i},f);Yt(n,"parent",a||null);Yt(n,"tags",{});Yt(n,"refs",{});if(m||o&&s){y=v}else{if(!g){v.innerHTML=""}y=me(t.tmpl,r,zt(v))}Yt(n,"update",function(t){return ke(n,t,h)});Yt(n,"mixin",function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return ze.apply(void 0,[n].concat(t))});Yt(n,"mount",function(){return lr(n,y,h,i)});Yt(n,"unmount",function(t){return cr(n,t,h)});return n}function hr(t,e,r,n){var i=M[e];var a=M[e].class;var o=n||(a?jt(a.prototype):{});var s=t._innerHTML=t._innerHTML||t.innerHTML;var u=Ot({root:t,opts:r,context:o},{parent:r?r.parent:null});var f;if(i&&t){f=pr(i,u,s)}if(f&&f.mount){f.mount(true);if(!Zt(P,f)){P.push(f)}}return f}var vr=Object.freeze({arrayishAdd:ne,getTagName:ae,inheritParentProps:oe,mountTo:hr,selectTags:Le,arrayishRemove:be,getTag:ie,initChildTag:xe,moveChildTag:Ke,makeReplaceVirtual:Ae,getImmediateCustomParentTag:ye,makeVirtual:Ne,moveVirtual:qe,unmountAll:ir,createIfDirective:or,createRefDirective:nr});var dr=Ct;var gr={tmpl:wt,brackets:_t,styleManager:mt,vdom:P,styleNode:mt.styleNode,dom:Vt,check:Wt,misc:re,tags:vr};var mr=Ot({},De,{observable:xt,settings:dr,util:gr});var yr=function(t){var e=[],r=arguments.length-1;while(r-- >0)e[r]=arguments[r+1];e.unshift("[riotx]");try{console.log.apply(console,e)}catch(t){console.log(e)}};var _r={debug:false,default:"@",changeBindName:"riotxChange",strict:false,logger:{output:yr}};var wr=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(!_r.debug){return}t.unshift("DEBUG");_r.logger.output.apply(null,t)};var xr=function(t){var e=new Error("[riotx] "+t);_r.logger.output.apply(null,["ERROR",e]);throw e};var br=function t(e){var r=this;this.name=e.name;if(!this.name){this.name=_r.default;wr("Default store name. name="+this.name)}this._state=e.state;Object.defineProperty(this,"state",{get:function(){if(_r.strict){xr("[strict] Direct access get error.")}return r._state},set:function(t){if(_r.strict){xr("[strict] Direct access set error. "+t)}r._state=t}});this._actions=e.actions;this._mutations=e.mutations;this._getters=e.getters;this._plugins=e.plugins;mr.observable(this);u(this._plugins,function(t){if(!x(t)||!s(t)){xr("[plugin] The plugin is not a function.")}t.apply(null,[r])})};br.prototype.reset=function t(){this.name=null;this._state=null;this._actions=null;this._mutations=null;this._getters=null;this._plugins=null;this.off("*")};br.prototype.getter=function t(e,r){if(r&&!N(r)){xr("[getter]', 'The getter data is not object type. name="+e+" data="+r)}var n={state:this._state};var i=this._getters[e];if(!i||!x(i)||!s(i)){xr("[getter]', 'The getter is not a function. name="+e+" data="+r)}wr("[getter]",e,r);return i.apply(null,[n,r])};br.prototype.commit=function t(e,r){var n=this;if(r&&!N(r)){xr("[mutation]', 'The mutation data is not object type. name="+e+" data="+r)}var i={getter:function(t,e){return n.getter.apply(n,[t,e])},state:this._state};var a=this._mutations[e];if(!a||!x(a)||!s(a)){xr("[mutation]', 'The mutation is not a function. name="+e+" data="+r)}wr("[mutation(before)]",e,this._state,r);var o=a.apply(null,[i,r]);wr("[mutation(after)]",e,this._state,r);this.trigger("riotx:mutations:after",e,o,i,r);u(o,function(t){n.trigger(t,n._state,n)})};br.prototype.action=function t(e,r){var n=this;if(r&&!N(r)){xr("[action]', 'The action data is not object type. name="+e+" data="+r)}var i={getter:function(t,e){return n.getter.apply(n,[t,e])},commit:function(t,e){n.commit(t,e)}};var a=this._actions[e];if(!a||!x(a)||!s(a)){xr("[action] The action is not a function. name="+e+" data="+r)}wr("[action]",e,r);return C.resolve().then(function(){return a.apply(null,[i,r])})};br.prototype.change=function t(){var e;var r=[],n=arguments.length;while(n--)r[n]=arguments[n];(e=this).on.apply(e,r)};var Nr=function t(){this.version=e||"";this.Store=br;this.stores={};var r=function(t,e,r){var n=[],i=arguments.length-3;while(i-- >0)n[i]=arguments[i+3];this._riotx_change_handlers.push({store:t,evtName:e,handler:r});n.unshift(r);n.unshift(e);t.change.apply(t,n)};mr.mixin({init:function(){var e=this;this.on("unmount",function(){e.off("*");u(e._riotx_change_handlers,function(t){t.store.off(t.evtName,t.handler)});delete e.riotx;delete e._riotx_change_handlers;delete e[_r.changeBindName]});if(_r.debug){this.on("*",function(t){wr("[riot.mixin]",t,e)})}this._riotx_change_handlers=[];this[_r.changeBindName]=r},riotx:this})};Nr.prototype.add=function t(e){if(this.stores[e.name]){xr("[store.add] The store instance named `"+e.name+"` already exists.")}this.stores[e.name]=e;return this};Nr.prototype.get=function t(e){if(e===void 0)e=_r.default;return this.stores[e]};Nr.prototype.debug=function t(e){_r.debug=!!e;return this};Nr.prototype.setChangeBindName=function t(e){_r.changeBindName=e;return this};Nr.prototype.strict=function t(e){_r.strict=!!e;return this};Nr.prototype.logger=function t(e){_r.logger.output=e;return this};Nr.prototype.reset=function t(){o(this.stores||{},function(t){t.reset()});this.stores={};return this};Nr.prototype.size=function t(){return d(this.stores).length};var Ar=new Nr;return Ar}(isAsyncFunction);