{"version":3,"file":"riotx.js","sources":["../node_modules/mout/array/forEach.js","../node_modules/mout/object/hasOwn.js","../node_modules/mout/object/forIn.js","../node_modules/mout/object/forOwn.js","../node_modules/mout/object/keys.js","../node_modules/mout/lang/kindOf.js","../node_modules/mout/lang/isKind.js","../node_modules/mout/lang/isFunction.js","../node_modules/mout/lang/isObject.js","../node_modules/promise-polyfill/src/index.js","../src/index.js"],"sourcesContent":["\n\n    /**\n     * Array forEach\n     */\n    function forEach(arr, callback, thisObj) {\n        if (arr == null) {\n            return;\n        }\n        var i = -1,\n            len = arr.length;\n        while (++i < len) {\n            // we iterate over sparse items since there is no way to make it\n            // work properly on IE 7-8. see #64\n            if ( callback.call(thisObj, arr[i], i, arr) === false ) {\n                break;\n            }\n        }\n    }\n\n    module.exports = forEach;\n\n\n","\n\n    /**\n     * Safer Object.hasOwnProperty\n     */\n     function hasOwn(obj, prop){\n         return Object.prototype.hasOwnProperty.call(obj, prop);\n     }\n\n     module.exports = hasOwn;\n\n\n","var hasOwn = require('./hasOwn');\n\n    var _hasDontEnumBug,\n        _dontEnums;\n\n    function checkDontEnum(){\n        _dontEnums = [\n                'toString',\n                'toLocaleString',\n                'valueOf',\n                'hasOwnProperty',\n                'isPrototypeOf',\n                'propertyIsEnumerable',\n                'constructor'\n            ];\n\n        _hasDontEnumBug = true;\n\n        for (var key in {'toString': null}) {\n            _hasDontEnumBug = false;\n        }\n    }\n\n    /**\n     * Similar to Array/forEach but works over object properties and fixes Don't\n     * Enum bug on IE.\n     * based on: http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n     */\n    function forIn(obj, fn, thisObj){\n        var key, i = 0;\n        // no need to check if argument is a real object that way we can use\n        // it for arrays, functions, date, etc.\n\n        //post-pone check till needed\n        if (_hasDontEnumBug == null) checkDontEnum();\n\n        for (key in obj) {\n            if (exec(fn, obj, key, thisObj) === false) {\n                break;\n            }\n        }\n\n\n        if (_hasDontEnumBug) {\n            var ctor = obj.constructor,\n                isProto = !!ctor && obj === ctor.prototype;\n\n            while (key = _dontEnums[i++]) {\n                // For constructor, if it is a prototype object the constructor\n                // is always non-enumerable unless defined otherwise (and\n                // enumerated above).  For non-prototype objects, it will have\n                // to be defined on this object, since it cannot be defined on\n                // any prototype objects.\n                //\n                // For other [[DontEnum]] properties, check if the value is\n                // different than Object prototype value.\n                if (\n                    (key !== 'constructor' ||\n                        (!isProto && hasOwn(obj, key))) &&\n                    obj[key] !== Object.prototype[key]\n                ) {\n                    if (exec(fn, obj, key, thisObj) === false) {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    function exec(fn, obj, key, thisObj){\n        return fn.call(thisObj, obj[key], key, obj);\n    }\n\n    module.exports = forIn;\n\n\n","var hasOwn = require('./hasOwn');\nvar forIn = require('./forIn');\n\n    /**\n     * Similar to Array/forEach but works over object properties and fixes Don't\n     * Enum bug on IE.\n     * based on: http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n     */\n    function forOwn(obj, fn, thisObj){\n        forIn(obj, function(val, key){\n            if (hasOwn(obj, key)) {\n                return fn.call(thisObj, obj[key], key, obj);\n            }\n        });\n    }\n\n    module.exports = forOwn;\n\n\n","var forOwn = require('./forOwn');\n\n    /**\n     * Get object keys\n     */\n     var keys = Object.keys || function (obj) {\n            var keys = [];\n            forOwn(obj, function(val, key){\n                keys.push(key);\n            });\n            return keys;\n        };\n\n    module.exports = keys;\n\n\n","\n    /**\n     * Gets the \"kind\" of value. (e.g. \"String\", \"Number\", etc)\n     */\n    function kindOf(val) {\n        return Object.prototype.toString.call(val).slice(8, -1);\n    }\n    module.exports = kindOf;\n\n","var kindOf = require('./kindOf');\n    /**\n     * Check if value is from a specific \"kind\".\n     */\n    function isKind(val, kind){\n        return kindOf(val) === kind;\n    }\n    module.exports = isKind;\n\n","var isKind = require('./isKind');\n    /**\n     */\n    function isFunction(val) {\n        return isKind(val, 'Function');\n    }\n    module.exports = isFunction;\n\n","var isKind = require('./isKind');\n    /**\n     */\n    function isObject(val) {\n        return isKind(val, 'Object');\n    }\n    module.exports = isObject;\n\n","// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = function(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n};\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","/*global VERSION*/\n\nimport forEach from 'mout/array/forEach';\nimport forOwn from 'mout/object/forOwn';\nimport keys from 'mout/object/keys';\nimport isFunction from 'mout/lang/isFunction';\nimport isObject from 'mout/lang/isObject';\nimport Promise from 'promise-polyfill';\nimport riot from 'riot';\n\n\n/**\n * console output\n *\n * @param {String} type level\n * @param {*} args output messages\n */\nconst _output = (type, ...args) => {\n  args.unshift('[riotx]');\n  try {\n    console.log.apply(console, args); // eslint-disable-line\n  } catch (e) {\n    console.log(args); // eslint-disable-line\n  }\n};\n\n/**\n * settings for riotx\n * @type {{debug: boolean, default: string}}\n */\nconst settings = {\n  debug: false,\n  default: '@',\n  changeBindName: 'riotxChange',\n  strict: false,\n  logger: {\n    output: _output,\n  }\n};\n\n/**\n * console debug output\n * @param {*} args\n */\nconst debug = (...args) => {\n  if (!settings.debug) {\n    return;\n  }\n  args.unshift('DEBUG');\n  settings.logger.output.apply(null, args);\n};\n\n/**\n * console error output\n * @param {*} message\n */\nconst error = message => {\n  const err = new Error(`[riotx] ${message}`);\n  settings.logger.output.apply(null, ['ERROR', err]);\n  throw err;\n};\n\n/**\n * @class Store\n */\nclass Store {\n\n  /**\n   * Creates an instance of Store.\n   * @param {Object} _store { name: 'Store Name', state: { default state data }, actions: { functions... } mutations: { functions... }, getters: { functions... }, plugins: { functions... } }\n   * @memberof Store\n   */\n  constructor(_store) {\n    /**\n     * name of the store.\n     * @type {String}\n     * @memberof Store\n     */\n    this.name = _store.name;\n    if (!this.name) {\n      this.name = settings.default;\n      debug(`Default store name. name=${this.name}`);\n    }\n\n    /**\n     * a object that represents full application state.\n     * @memberof Store\n     * @type {Object}\n     */\n    this._state = _store.state;\n    Object.defineProperty(this, 'state', {\n      get: () => {\n        if (settings.strict) {\n          error('[strict] Direct access get error.');\n        }\n        return this._state;\n      },\n      set: state => {\n\n        if (settings.strict) {\n          error(`[strict] Direct access set error. ${state}`);\n        }\n        this._state = state;\n      }\n    });\n\n    /**\n     * functions to mutate application state.\n     * @memberof Store\n     * @type {Object}\n     */\n    this._actions = _store.actions;\n\n    /**\n     * mutaions.\n     * mutaion = a function which mutates the state.\n     * all mutation functions take two parameters which are `state` and `obj`.\n     * @memberof Store\n     * @type {Object}\n     */\n    this._mutations = _store.mutations;\n\n    /**\n     * functions to get data from states.\n     * @memberof Store\n     * @type {Object}\n     */\n    this._getters = _store.getters;\n\n    /**\n     * functions to plugins.\n     * @memberof Store\n     * @type {Array}\n     */\n    this._plugins = _store.plugins;\n\n    riot.observable(this);\n\n    // Load plugins.\n    forEach(this._plugins, p => {\n      if (!isFunction(p)) {\n        error('[plugin] The plugin is not a function.');\n      }\n      p.apply(null, [this]);\n    });\n\n  }\n\n  /**\n   * Reset store instance.\n   * @memberof Store\n   */\n  reset() {\n    this.name = null;\n    this._state = null;\n    this._actions = null;\n    this._mutations = null;\n    this._getters = null;\n    this._plugins = null;\n    this.off('*');\n  }\n\n  /**\n   * Getter state\n   * @param {String} name\n   * @param {Object} data\n   * @memberof Store\n   * @returns {*}\n   */\n  getter(name, data) {\n    if (data && !isObject(data)) {\n      error(`[getter]', 'The getter data is not object type. name=${name} data=${data}`);\n    }\n    const context = {\n      state: this._state\n    };\n    const fn = this._getters[name];\n    if (!fn || !isFunction(fn)) {\n      error(`[getter]', 'The getter is not a function. name=${name} data=${data}`);\n    }\n    debug('[getter]', name, data);\n    return fn.apply(null, [context, data]);\n  }\n\n  /**\n   * Commit mutation.\n   * only actions are allowed to execute this function.\n   * @param {String} name mutation name\n   * @param {Object} data\n   * @memberof Store\n   */\n  commit(name, data) {\n    if (data && !isObject(data)) {\n      error(`[mutation]', 'The mutation data is not object type. name=${name} data=${data}`);\n    }\n    const context = {\n      getter: (name, data) => {\n        return this.getter.apply(this, [name, data]);\n      },\n      state: this._state\n    };\n\n    const fn = this._mutations[name];\n    if (!fn || !isFunction(fn)) {\n      error(`[mutation]', 'The mutation is not a function. name=${name} data=${data}`);\n    }\n\n    debug('[mutation(before)]', name, this._state, data);\n    const triggers = fn.apply(null, [context, data]);\n    debug('[mutation(after)]', name, this._state, data);\n\n    // Plugins\n    this.trigger('riotx:mutations:after', name, triggers, context, data);\n\n    forEach(triggers, v => {\n      // this.trigger(v, null, this.state, this);\n      this.trigger(v, this._state, this);\n    });\n  }\n\n  /**\n   * emit action.\n   * only ui components are allowed to execute this function.\n   * @param {Stting} name action name\n   * @param {Object} data parameter's to action\n   * @memberof Store\n   * @return {Promise}\n   */\n  action(name, data) {\n    if (data && !isObject(data)) {\n      error(`[action]', 'The action data is not object type. name=${name} data=${data}`);\n    }\n    const context = {\n      getter: (name, data) => {\n        return this.getter.apply(this, [name, data]);\n      },\n      //state: this._state,\n      commit: (name, data) => {\n        this.commit(name, data);\n      }\n    };\n\n    const fn = this._actions[name];\n    if (!fn || !isFunction(fn)) {\n      error(`[action] The action is not a function. name=${name} data=${data}`);\n    }\n\n    debug('[action]', name, data);\n    return Promise\n      .resolve()\n      .then(() => fn.apply(null, [context, data]));\n  }\n\n  /**\n   * shorthand for `store.on('event', () => {})`.\n   * @param {...*} args\n   * @memberof Store\n   */\n  change(...args) {\n    this.on(...args);\n  }\n\n}\n\n/**\n * @class RiotX\n */\nclass RiotX {\n\n  /**\n   * Creates an instance of RiotX.\n   * @memberof RiotX\n   */\n  constructor() {\n    this.version = VERSION || '';\n\n    /**\n     * constructor of RiotX.Store.\n     * @type {RiotX.Store}\n     */\n    this.Store = Store;\n\n    /**\n     * instances of RiotX.Store.\n     * @type {Object}\n     */\n    this.stores = {};\n\n    // add and keep event listener for store changes.\n    // through this function the event listeners will be unbinded automatically.\n    const riotxChange = function (store, evtName, ...args) {\n      this._riotx_change_handlers.push({\n        store,\n        evtName\n      });\n      args.unshift(evtName);\n      store.change(...args);\n    };\n\n    // register a mixin globally.\n    riot.mixin({\n      // intendedly use `function`.\n      // switch the context of `this` from `riotx` to `riot tag instance`.\n      init: function () {\n        // the context of `this` will be equal to riot tag instant.\n        this.on('unmount', () => {\n          this.off('*');\n          forEach(this._riotx_change_handlers, obj => {\n            obj.store.off(obj.evtName);\n          });\n          delete this.riotx;\n          delete this._riotx_change_handlers;\n          delete this[settings.changeBindName];\n        });\n\n        if (settings.debug) {\n          this.on('*', eventName => {\n            debug('[riot.mixin]', eventName, this);\n          });\n        }\n\n        // let users set the name.\n        this[settings.changeBindName] = riotxChange;\n      },\n      // give each riot instance the ability to access the globally defined singleton RiotX instance.\n      riotx: this,\n      _riotx_change_handlers: []\n    });\n  }\n\n  /**\n   * Add a store instance\n   * @param {RiotX.Store} store instance of RiotX.Store\n   * @memberof RiotX\n   * @returns {RiotX}\n   */\n  add(store) {\n    if (this.stores[store.name]) {\n      error(`[store.add] The store instance named \\`${store.name}\\` already exists.`);\n    }\n\n    this.stores[store.name] = store;\n    return this;\n  }\n\n  /**\n   * Get store instance\n   * @param {String} name store name\n   * @memberof RiotX\n   * @returns {RiotX.Store} store instance\n   */\n  get(name = settings.default) {\n    return this.stores[name];\n  }\n\n  /**\n   * Set debug flag\n   * @param {boolean} flag\n   * @memberof RiotX\n   * @returns {RiotX}\n   */\n  debug(flag) {\n    settings.debug = !!flag;\n    return this;\n  }\n\n  /**\n   * Set function name to bind store change event.\n   * @param {String} name\n   * @memberof RiotX\n   * @returns {RiotX}\n   */\n  setChangeBindName(name) {\n    settings.changeBindName = name;\n    return this;\n  }\n\n  /**\n   * Directly changing the state property from outside will occur an exception.\n   * You can change it through “mutations”, or you can get it via “getters”.\n   * @param {boolean} flag\n   * @memberof RiotX\n   * @returns {RiotX}\n   */\n  strict(flag) {\n    settings.strict = !!flag;\n    return this;\n  }\n\n  /**\n   *\n   *\n   * @param {Function} fn @see function _output\n   * @returns Riotx\n   * @memberof RiotX\n   */\n  logger(fn) {\n    settings.logger.output = fn;\n    return this;\n  }\n\n  /**\n   * Reset all store instances at once.\n   * @memberof RiotX\n   * @returns {RiotX} instance\n   */\n  reset() {\n    forOwn(this.stores || {}, store => {\n      store.reset();\n    });\n    this.stores = {};\n    return this;\n  }\n\n  /**\n   * Store's count\n   * @memberof RiotX\n   * @returns {int} size\n   */\n  size() {\n    return keys(this.stores).length;\n  }\n\n}\n\nexport default new RiotX();\n"],"names":["hasOwn","forIn","forOwn","kindOf","isKind","const","this","forEach","isFunction","isObject","keys"],"mappings":"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"}