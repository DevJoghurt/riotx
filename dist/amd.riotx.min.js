define(["riot"],function(t){"use strict";var s="0.0.1";t="default"in t?t["default"]:t;var e=function(){if(!i.debug){return}var t=Array.prototype.slice.call(arguments);t.unshift("[riotx]");try{console.log.apply(console,t)}catch(s){console.log(t)}};var i={debug:false,default:"@"};var n=function s(n){this.name=n.name;if(!this.name){this.name=i.default;e("Default store name. name="+this.name)}this.state=n.state?Object.assign({},n.state):{};this.actions=n.actions?n.actions:{};this.mutations=n.mutations?n.mutations:{};this.getters=n.getters?n.getters:{};t.observable(this)};n.prototype.commit=function t(s,e){var i=Object.assign({},this.state);this.mutations[s].apply(this,[i,e]);Object.assign(this.state,i)};n.prototype.action=function t(){var s=this;var i=[].slice.call(arguments);var n=i.shift();i.push(function(t,i){var a=Object.assign(s.state,i);e("[trigger]",n,a);s.trigger(n,null,a,s)});this.actions[n].apply(this,i)};var a=function e(){this.version=s||"";this.settings=i;this.Store=n;this.stores={};var a=this;t.mixin({init:function(){var t=this;this.on("unmount",function(){t.off("*")});if(t.debug){this.on("*",function(t){console.log("events.*",t)})}},riotx:a})};a.prototype.add=function t(s){if(this.stores[s.name]){var e=new Error("The store has been overwritten. name="+s.name);throw e}this.stores[s.name]=s;return this};a.prototype.get=function t(s){s=s?s:i.default;return this.stores[s]};var o=new a;return o});