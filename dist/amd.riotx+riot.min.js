define(function(){"use strict";var e="2.0.1";function t(t,e,r){if(t==null){return}var n=-1,i=t.length;while(++n<i){if(e.call(r,t[n],n,t)===false){break}}}var s=t;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var u=r;var f,l;function c(){l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];f=true;for(var t in{toString:null}){f=false}}function n(t,e,r){var n,i=0;if(f==null){c()}for(n in t){if(p(e,t,n,r)===false){break}}if(f){var a=t.constructor,o=!!a&&t===a.prototype;while(n=l[i++]){if((n!=="constructor"||!o&&u(t,n))&&t[n]!==Object.prototype[n]){if(p(e,t,n,r)===false){break}}}}}function p(t,e,r,n){return t.call(n,e[r],r,e)}var a=n;function i(r,n,i){a(r,function(t,e){if(u(r,e)){return n.call(i,r[e],e,r)}})}var o=i;var h=Object.keys||function(t){var r=[];o(t,function(t,e){r.push(e)});return r};var v=h;function d(t){return Object.prototype.toString.call(t).slice(8,-1)}var g=d;function m(t,e){return g(t)===e}var y=m;function _(t){return y(t,"Function")}var w=_;function b(t){return y(t,"Object")}var x=b;var N=setTimeout;function A(){}function O(t,e){return function(){t.apply(e,arguments)}}function j(t){if(!(this instanceof j)){throw new TypeError("Promises must be constructed via new")}if(typeof t!=="function"){throw new TypeError("not a function")}this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];S(t,this)}function C(r,n){while(r._state===3){r=r._value}if(r._state===0){r._deferreds.push(n);return}r._handled=true;j._immediateFn(function(){var t=r._state===1?n.onFulfilled:n.onRejected;if(t===null){(r._state===1?T:E)(n.promise,r._value);return}var e;try{e=t(r._value)}catch(t){E(n.promise,t);return}T(n.promise,e)})}function T(e,t){try{if(t===e){throw new TypeError("A promise cannot be resolved with itself.")}if(t&&(typeof t==="object"||typeof t==="function")){var r=t.then;if(t instanceof j){e._state=3;e._value=t;k(e);return}else if(typeof r==="function"){S(O(r,t),e);return}}e._state=1;e._value=t;k(e)}catch(t){E(e,t)}}function E(t,e){t._state=2;t._value=e;k(t)}function k(t){if(t._state===2&&t._deferreds.length===0){j._immediateFn(function(){if(!t._handled){j._unhandledRejectionFn(t._value)}})}for(var e=0,r=t._deferreds.length;e<r;e++){C(t,t._deferreds[e])}t._deferreds=null}function L(t,e,r){this.onFulfilled=typeof t==="function"?t:null;this.onRejected=typeof e==="function"?e:null;this.promise=r}function S(t,e){var r=false;try{t(function(t){if(r){return}r=true;T(e,t)},function(t){if(r){return}r=true;E(e,t)})}catch(t){if(r){return}r=true;E(e,t)}}j.prototype["catch"]=function(t){return this.then(null,t)};j.prototype.then=function(t,e){var r=new this.constructor(A);C(this,new L(t,e,r));return r};j.prototype["finally"]=function(e){var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){return r.reject(t)})})};j.all=function(e){return new j(function(n,i){if(!e||typeof e.length==="undefined"){throw new TypeError("Promise.all accepts an array")}var a=Array.prototype.slice.call(e);if(a.length===0){return n([])}var o=a.length;function s(e,t){try{if(t&&(typeof t==="object"||typeof t==="function")){var r=t.then;if(typeof r==="function"){r.call(t,function(t){s(e,t)},i);return}}a[e]=t;if(--o===0){n(a)}}catch(t){i(t)}}for(var t=0;t<a.length;t++){s(t,a[t])}})};j.resolve=function(e){if(e&&typeof e==="object"&&e.constructor===j){return e}return new j(function(t){t(e)})};j.reject=function(r){return new j(function(t,e){e(r)})};j.race=function(i){return new j(function(t,e){for(var r=0,n=i.length;r<n;r++){i[r].then(t,e)}})};j._immediateFn=typeof setImmediate==="function"&&function(t){setImmediate(t)}||function(t){N(t,0)};j._unhandledRejectionFn=function t(e){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",e)}};function R(t,e){return(e||document).querySelector(t)}var I=[],P={},M="yield",B="__global_mixin",V="riot-",$=["ref","data-ref"],F="data-is",U="if",H="each",D="no-reorder",z="show",K="hide",q="key",G="__riot-events__",W="string",Z="object",Q="undefined",J="function",X="http://www.w3.org/1999/xlink",Y="http://www.w3.org/2000/svg",tt=/^xlink:(\w+)/,et=typeof window===Q?undefined:window,rt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,nt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,it=/^on/,at=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,ot={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},st=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,ut=(et&&et.document||{}).documentMode|0;function ft(t){return t==="svg"?document.createElementNS(Y,t):document.createElement(t)}function lt(t,e,r){var n=tt.exec(e);if(n&&n[1]){t.setAttributeNS(X,n[1],r)}else{t.setAttribute(e,r)}}var ct;var pt;var ht={};var vt=[];var dt=false;if(et){ct=function(){var t=ft("style");var e=R("style[type=riot]");lt(t,"type","text/css");if(e){if(e.id){t.id=e.id}e.parentNode.replaceChild(t,e)}else{document.head.appendChild(t)}return t}();pt=ct.styleSheet}var gt={styleNode:ct,add:function t(e,r){if(r){ht[r]=e}else{vt.push(e)}dt=true},inject:function t(){if(!et||!dt){return}dt=false;var e=Object.keys(ht).map(function(t){return ht[t]}).concat(vt).join("\n");if(pt){pt.cssText=e}else{ct.innerHTML=e}}};var mt=function(){var u="[{(,;:?=|&!^~>%*/";var f=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"];var l=f.reduce(function(t,e){return t+e.slice(-1)},"");var c=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/;var p=/[$\w]/;function h(t,e){while(--e>=0&&/\s/.test(t[e])){}return e}function t(t,e){var r=/.*/g;var n=r.lastIndex=e++;var i=r.exec(t)[0].match(c);if(i){var a=n+i[0].length;n=h(t,n);var o=t[n];if(n<0||~u.indexOf(o)){return a}if(o==="."){if(t[n-1]==="."){e=a}}else if(o==="+"||o==="-"){if(t[--n]!==o||(n=h(t,n))<0||!p.test(t[n])){e=a}}else if(~l.indexOf(o)){var s=n+1;while(--n>=0&&p.test(t[n])){}if(~f.indexOf(t.slice(n+1,s))){e=a}}}return e}return t}();var yt=function(t){var r="g",e=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,n=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,i=n.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,a=RegExp("[\\"+"x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),o=/(?=[[\]()*+?.^$|])/g,s=n.source+"|"+/(\/)(?![*\/])/.source,_={"(":RegExp("([()])|"+s,r),"[":RegExp("([[\\]])|"+s,r),"{":RegExp("([{}])|"+s,r)},u="{ }";var f=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+s,r),u,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/];var l=t,c,w=[],p;function h(t){return t}function v(t,e){if(!e){e=w}return new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?r:"")}function d(t){if(t===u){return f}var e=t.split(" ");if(e.length!==2||a.test(t)){throw new Error('Unsupported brackets "'+t+'"')}e=e.concat(t.replace(o,"\\").split(" "));e[4]=v(e[1].length>1?/{[\S\s]*?}/:f[4],e);e[5]=v(t.length>3?/\\({|})/g:f[5],e);e[6]=v(f[6],e);e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+s,r);e[8]=t;return e}function g(t){return t instanceof RegExp?c(t):w[t]}g.split=function t(n,i,e){if(!e){e=w}var r=[],a,o,s,u,f=e[6];var l=[];var c="";var p,h;o=s=f.lastIndex=0;while(a=f.exec(n)){h=f.lastIndex;u=a.index;if(o){if(a[2]){var v=a[2];var d=_[v];var g=1;d.lastIndex=h;while(a=d.exec(n)){if(a[1]){if(a[1]===v){++g}else if(!--g){break}}else{d.lastIndex=y(a.index,d.lastIndex,a[2])}}f.lastIndex=g?n.length:d.lastIndex;continue}if(!a[3]){f.lastIndex=y(u,h,a[4]);continue}}if(!a[1]){m(n.slice(s,u));s=f.lastIndex;f=e[6+(o^=1)];f.lastIndex=s}}if(n&&s<n.length){m(n.slice(s))}r.qblocks=l;return r;function m(t){if(c){t=c+t;c=""}if(i||o){r.push(t&&t.replace(e[5],"$1"))}else{r.push(t)}}function y(t,e,r){if(r){e=mt(n,t)}if(i&&e>t+2){p="‚Åó"+l.length+"~";l.push(n.slice(t,e));c+=n.slice(s,t)+p;s=e}return e}};g.hasExpr=function t(e){return w[4].test(e)};g.loopKeys=function t(e){var r=e.match(w[9]);return r?{key:r[1],pos:r[2],val:w[0]+r[3].trim()+w[1]}:{val:e.trim()}};g.array=function t(e){return e?d(e):w};function m(t){if((t||(t=u))!==w[8]){w=d(t);c=t===u?h:v;w[9]=c(f[9])}l=t}function y(t){var e;t=t||{};e=t.brackets;Object.defineProperty(t,"brackets",{set:m,get:function(){return l},enumerable:true});p=t;m(e)}Object.defineProperty(g,"settings",{set:y,get:function(){return p}});g.settings=typeof riot!=="undefined"&&riot.settings||{};g.set=m;g.skipRegex=mt;g.R_STRINGS=n;g.R_MLCOMMS=e;g.S_QBLOCKS=i;g.S_QBLOCK2=s;return g}();var _t=function(){var r={};function n(t,e){if(!t){return t}return(r[t]||(r[t]=a(t))).call(e,i.bind({data:e,tmpl:t}))}n.hasExpr=yt.hasExpr;n.loopKeys=yt.loopKeys;n.clearCache=function(){r={}};n.errorHandler=null;function i(t,e){t.riotData={tagName:e&&e.__&&e.__.tagName,_riot_id:e&&e._riot_id};if(n.errorHandler){n.errorHandler(t)}else if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(t.message);console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl);console.log(this.data)}}function a(t){var e=o(t);if(e.slice(0,11)!=="try{return "){e="return "+e}return new Function("E",e+";")}var s=/\u2057/g;var u=/\u2057(\d+)~/g;function o(t){var e=yt.split(t.replace(s,'"'),1);var r=e.qblocks;var n;if(e.length>2||e[0]){var i,a,o=[];for(i=a=0;i<e.length;++i){n=e[i];if(n&&(n=i&1?f(n,1,r):'"'+n.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')){o[a++]=n}}n=a<2?o[0]:"["+o.join(",")+'].join("")'}else{n=f(e[1],0,r)}if(r.length){n=n.replace(u,function(t,e){return r[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})}return n}var l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/;var c={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function f(a,t,e){a=a.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1");if(a){var r=[],n=0,i;while(a&&(i=a.match(l))&&!i.index){var o,s,u=/,|([[{(])|$/g;a=RegExp.rightContext;o=i[2]?e[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];while(s=(i=u.exec(a))[1]){f(s,u)}s=a.slice(0,i.index);a=RegExp.rightContext;r[n++]=d(s,1,o)}a=!n?d(a,t):n>1?"["+r.join(",")+'].join(" ").trim()':r[0]}return a;function f(t,e){var r,n=1,i=c[t];i.lastIndex=e.lastIndex;while(r=i.exec(a)){if(r[0]===t){++n}else if(!--n){break}}e.lastIndex=n?a.length:i.lastIndex}}var p='"in this?this:'+(typeof window!=="object"?"global":"window")+").",h=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,v=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function d(t,e,r){var a;t=t.replace(h,function(t,e,r,n,i){if(r){n=a?0:n+t.length;if(r!=="this"&&r!=="global"&&r!=="window"){t=e+'("'+r+p+r;if(n){a=(i=i[n])==="."||i==="("||i==="["}}else if(n){a=!v.test(i.slice(n))}}return t});if(a){t="try{return "+t+"}catch(e){E(e,this)}"}if(r){t=(a?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+r+'":""'}else if(e){t="function(v){"+(a?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'}return t}n.version=yt.version="v3.0.8";return n}();var wt=function(s){s=s||{};var u={},f=Array.prototype.slice;Object.defineProperties(s,{on:{value:function(t,e){if(typeof e=="function"){(u[t]=u[t]||[]).push(e)}return s},enumerable:false,writable:false,configurable:false},off:{value:function(t,e){if(t=="*"&&!e){u={}}else{if(e){var r=u[t];for(var n=0,i;i=r&&r[n];++n){if(i==e){r.splice(n--,1)}}}else{delete u[t]}}return s},enumerable:false,writable:false,configurable:false},one:{value:function(t,e){function r(){s.off(t,r);e.apply(s,arguments)}return s.on(t,r)},enumerable:false,writable:false,configurable:false},trigger:{value:function(t){var e=arguments;var r=arguments.length-1,n=new Array(r),i,a,o;for(o=0;o<r;o++){n[o]=e[o+1]}i=f.call(u[t]||[],0);for(o=0;a=i[o];++o){a.apply(s,n)}if(u["*"]&&t!="*"){s.trigger.apply(s,["*",t].concat(n))}return s},enumerable:false,writable:false,configurable:false}});return s};function bt(t,e){return Object.getOwnPropertyDescriptor(t,e)}function xt(t){return typeof t===Q}function Nt(t,e){var r=bt(t,e);return xt(t[e])||r&&r.writable}function At(t){var e;var r=1;var n=arguments;var i=n.length;for(;r<i;r++){if(e=n[r]){for(var a in e){if(Nt(t,a)){t[a]=e[a]}}}}return t}function Ot(t){return Object.create(t)}var jt=At(Ot(yt.settings),{skipAnonymousTags:true,autoUpdate:true});function Ct(t,e){return[].slice.call((e||document).querySelectorAll(t))}function Tt(){return document.createTextNode("")}function Et(t,e){t.style.display=e?"":"none";t.hidden=e?false:true}function kt(t,e){return t.getAttribute(e)}function Lt(t,e){t.removeAttribute(e)}function St(t,e,r){if(r){var n=t.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+Y+'">'+e+"</svg>","application/xml").documentElement,true);t.appendChild(n)}else{t.innerHTML=e}}function Rt(t,e){if(!t){return}var r;while(r=at.exec(t)){e(r[1].toLowerCase(),r[2]||r[3]||r[4])}}function It(){return document.createDocumentFragment()}function Pt(t,e,r){t.insertBefore(e,r.parentNode&&r)}function Mt(r){return Object.keys(r).reduce(function(t,e){return t+" "+e+": "+r[e]+";"},"")}function Bt(t,e,r){if(t){var n=e(t,r);var i;if(n===false){return}t=t.firstChild;while(t){i=t.nextSibling;Bt(t,e,n);t=i}}}var Vt=Object.freeze({$$:Ct,$:R,createDOMPlaceholder:Tt,mkEl:ft,setAttr:lt,toggleVisibility:Et,getAttr:kt,remAttr:Lt,setInnerHTML:St,walkAttrs:Rt,createFrag:It,safeInsert:Pt,styleObjectToString:Mt,walkNodes:Bt});function $t(t){return xt(t)||t===null}function Ft(t){return $t(t)||t===""}function Ut(t){return typeof t===J}function Ht(t){return t&&typeof t===Z}function Dt(t){var e=t.ownerSVGElement;return!!e||e===null}function zt(t){return Array.isArray(t)||t instanceof Array}function Kt(t){return st.test(t)}function qt(t){return typeof t===W}var Gt=Object.freeze({isBlank:Ft,isFunction:Ut,isObject:Ht,isSvg:Dt,isWritable:Nt,isArray:zt,isBoolAttr:Kt,isNil:$t,isString:qt,isUndefined:xt});function Wt(t,e){return t.indexOf(e)!==-1}function Zt(t,e){var r=t?t.length:0;var n=0;for(;n<r;n++){e(t[n],n)}return t}function Qt(t,e){return t.slice(0,e.length)===e}var Jt=function t(){var e=-1;return function(){return++e}}();function Xt(t,e,r,n){Object.defineProperty(t,e,At({value:r,enumerable:false,writable:false,configurable:true},n));return t}function Yt(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function te(t){if(console&&console.warn){console.warn(t)}}var ee=Object.freeze({contains:Wt,each:Zt,getPropDescriptor:bt,startsWith:Qt,uid:Jt,defineProperty:Xt,objectCreate:Ot,extend:At,toCamel:Yt,warn:te});function re(t,e,r,n,i){var a=t[e];var o=zt(a);var s=!xt(i);if(a&&a===r){return}if(!a&&n){t[e]=[r]}else if(!a){t[e]=r}else{if(o){var u=a.indexOf(r);if(u===i){return}if(u!==-1){a.splice(u,1)}if(s){a.splice(i,0,r)}else{a.push(r)}}else{t[e]=[a,r]}}}function ne(t){return t.tagName&&P[kt(t,F)||kt(t,F)||t.tagName.toLowerCase()]}function ie(t,e){var r=ne(t);var n=!e&&kt(t,F);return n&&!_t.hasExpr(n)?n:r?r.name:t.tagName.toLowerCase()}function ae(){if(this.parent){return At(Ot(this),this.parent)}return this}var oe=/<yield\b/i,se=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,ue=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,fe=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,le={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},ce=ut&&ut<10?rt:nt,pe="div",he="svg";function ve(t,e,r){var n=r[0]==="o",i=n?"select>":"table>";t.innerHTML="<"+i+e.trim()+"</"+i;i=t.firstChild;if(n){i.selectedIndex=-1}else{var a=le[r];if(a&&i.childElementCount===1){i=R(a,i)}}return i}function de(t,r){if(!oe.test(t)){return t}var n={};r=r&&r.replace(ue,function(t,e,r){n[e]=n[e]||r;return""}).trim();return t.replace(fe,function(t,e,r){return n[e]||r||""}).replace(se,function(t,e){return r||e||""})}function ge(t,e,r){var n=t&&t.match(/^\s*<([-\w]+)/);var i=n&&n[1].toLowerCase();var a=ft(r?he:pe);t=de(t,e);if(ce.test(i)){a=ve(a,t,i)}else{St(a,t,r)}return a}function me(t){var e=t;while(e.__.isAnonymous){if(!e.parent){break}e=e.parent}return e}function ye(t,e,r){var n=this.__.parent;var i=this.__.item;if(!i){while(n&&!i){i=n.__.item;n=n.__.parent}}if(Nt(r,"currentTarget")){r.currentTarget=t}if(Nt(r,"target")){r.target=r.srcElement}if(Nt(r,"which")){r.which=r.charCode||r.keyCode}r.item=i;e.call(this,r);if(!jt.autoUpdate){return}if(!r.preventUpdate){var a=me(this);if(a.isMounted){a.update()}}}function _e(t,e,r,n){var i;var a=ye.bind(n,r,e);r[t]=null;i=t.replace(it,"");if(!Wt(n.__.listeners,r)){n.__.listeners.push(r)}if(!r[G]){r[G]={}}if(r[G][t]){r.removeEventListener(i,r[G][t])}r[G][t]=a;r.addEventListener(i,a,false)}function we(t,e,r,n){var i=cr(t,e,r);var a=e.tagName||ie(e.root,true);var o=me(n);Xt(i,"parent",o);i.__.parent=n;re(o.tags,a,i);if(o!==n){re(n.tags,a,i)}return i}function be(t,e,r,n){if(zt(t[e])){var i=t[e].indexOf(r);if(i!==-1){t[e].splice(i,1)}if(!t[e].length){delete t[e]}else if(t[e].length===1&&!n){t[e]=t[e][0]}}else if(t[e]===r){delete t[e]}}function xe(t,e){var r=this;var n=Tt();var i=Tt();var a=It();var o;var s;this.root.insertBefore(n,this.root.firstChild);this.root.appendChild(i);this.__.head=s=n;this.__.tail=i;while(s){o=s.nextSibling;a.appendChild(s);r.__.virts.push(s);s=o}if(e){t.insertBefore(a,e.__.head)}else{t.appendChild(a)}}function Ne(t,e){var r=It();xe.call(t,r);e.parentNode.replaceChild(r,e)}function Ae(t,e,r){var n=t.tag||t.dom._tag;var i;var a=n?n.__:{};var o=a.head;var s=t.dom.tagName==="VIRTUAL";if(n&&t.tagName===r){n.update();return}if(n){if(s){i=Tt();o.parentNode.insertBefore(i,o)}n.unmount(true)}if(!qt(r)){return}t.impl=P[r];if(!t.impl){return}t.tag=n=we(t.impl,{root:t.dom,parent:e,tagName:r},t.dom.innerHTML,e);Zt(t.attrs,function(t){return lt(n.root,t.name,t.value)});t.tagName=r;n.mount();if(s){Ne(n,i||n.root)}e.__.onUnmount=function(){var t=n.opts.dataIs;be(n.parent.tags,t,n);be(n.__.parent.tags,t,n);n.unmount()}}function Oe(t){if(!t){return null}t=t.replace(V,"");if(ot[t]){t=ot[t]}return t}function je(t){if(this.root&&kt(this.root,"virtualized")){return}var e=t.dom;var r=Oe(t.attr);var n=Wt([z,K],r);var i=t.root&&t.root.tagName==="VIRTUAL";var a=this.__;var o=a.isAnonymous;var s=e&&(t.parent||e.parentNode);var u=r==="style";var f=r==="class";var l;if(t._riot_id){if(t.__.wasCreated){t.update()}else{t.mount();if(i){Ne(t,t.root)}}return}if(t.update){return t.update()}var c=n&&!o?ae.call(this):this;l=_t(t.expr,c);var p=!Ft(l);var h=Ht(l);if(h){if(f){l=_t(JSON.stringify(l),this)}else if(u){l=Mt(l)}}if(t.attr&&(!t.wasParsedOnce||!p||l===false)){Lt(e,kt(e,t.attr)?t.attr:r)}if(t.bool){l=l?r:false}if(t.isRtag){return Ae(t,this,l)}if(t.wasParsedOnce&&t.value===l){return}t.value=l;t.wasParsedOnce=true;if(h&&!f&&!u&&!n){return}if(!p){l=""}if(!r){l+="";if(s){t.parent=s;if(s.tagName==="TEXTAREA"){s.value=l;if(!ut){e.nodeValue=l}}else{e.nodeValue=l}}return}if(Ut(l)){_e(r,l,e,this)}else if(n){Et(e,r===K?!l:l)}else{if(t.bool){e[r]=l}if(r==="value"&&e.value!==l){e.value=l}else if(p&&l!==false){lt(e,r,l)}if(u&&e.hidden){Et(e,false)}}}function Ce(t){Zt(t,je.bind(this))}function Te(t,e,r,n,i){if(t&&r){return}var a=t?ae.call(this):e||this;Zt(i,function(t){if(t.expr){je.call(a,t.expr)}n[Yt(t.name).replace(V,"")]=t.expr?t.expr.value:t.value})}function Ee(t,e,r){var n=t.__;var i={};var a=t.isMounted&&!n.skipAnonymous;if(n.isAnonymous&&n.parent){At(t,n.parent)}At(t,e);Te.apply(t,[n.isLoop,n.parent,n.isAnonymous,i,n.instAttrs]);if(a&&t.isMounted&&Ut(t.shouldUpdate)&&!t.shouldUpdate(e,i)){return t}At(t.opts,i);if(a){t.trigger("update",e)}Ce.call(t,r);if(a){t.trigger("updated")}return t}function ke(t){if(!t){var e=Object.keys(P);return e+ke(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var r=e.trim().toLowerCase();return t+",["+F+'="'+r+'"]'},"")}function Le(t,e){var r=this;var n=r.name;var i=r.tmpl;var a=r.css;var o=r.attrs;var s=r.onCreate;if(!P[n]){Se(n,i,a,o,s);P[n].class=this.constructor}pr(t,n,e,this);if(a){gt.inject()}return this}function Se(t,e,r,n,i){if(Ut(n)){i=n;if(/^[\w-]+\s?=/.test(r)){n=r;r=""}else{n=""}}if(r){if(Ut(r)){i=r}else{gt.add(r)}}t=t.toLowerCase();P[t]={name:t,tmpl:e,attrs:n,fn:i};return t}function Re(t,e,r,n,i){if(r){gt.add(r,t)}P[t]={name:t,tmpl:e,attrs:n,fn:i};return t}function Ie(t,n,i){var a=[];var e,r;function o(t){if(t.tagName){var e=kt(t,F),r;if(n&&e!==n){e=n;lt(t,F,n)}r=pr(t,e||t.tagName.toLowerCase(),i);if(r){a.push(r)}}else if(t.length){Zt(t,o)}}gt.inject();if(Ht(n)){i=n;n=0}if(qt(t)){t=t==="*"?r=ke():t+ke(t.split(/, */));e=t?Ct(t):[]}else{e=t}if(n==="*"){n=r||ke();if(e.tagName){e=Ct(n,e)}else{var s=[];Zt(e,function(t){return s.push(Ct(n,t))});e=s}n=0}o(e);return a}var Pe={};var Me=Pe[B]={};var Be=0;function Ve(t,e,r){if(Ht(t)){Ve("__"+Be+++"__",t,true);return}var n=r?Me:Pe;if(!e){if(xt(n[t])){throw new Error("Unregistered mixin: "+t)}return n[t]}n[t]=Ut(e)?At(e.prototype,n[t]||{})&&e:At(n[t]||{},e)}function $e(){return Zt(I,function(t){return t.update()})}function Fe(t){P[t]=null}var Ue="WIP";var He=Object.freeze({Tag:Le,tag:Se,tag2:Re,mount:Ie,mixin:Ve,update:$e,unregister:Fe,version:Ue});function De(o){var t=[],e=arguments.length-1;while(e-- >0)t[e]=arguments[e+1];Zt(t,function(t){var n;var e;var r=[];var i=["init","__proto__"];t=qt(t)?Ve(t):t;if(Ut(t)){n=new t}else{n=t}var a=Object.getPrototypeOf(n);do{r=r.concat(Object.getOwnPropertyNames(e||n))}while(e=Object.getPrototypeOf(e||n));Zt(r,function(t){if(!Wt(i,t)){var e=bt(n,t)||bt(a,t);var r=e&&(e.get||e.set);if(!o.hasOwnProperty(t)&&r){Object.defineProperty(o,t,e)}else{o[t]=Ut(n[t])?n[t].bind(o):n[t]}}});if(n.init){n.init.bind(o)(o.opts)}});return o}function ze(t,e){var r=this.parent;var n;if(!r){return}n=r.tags[t];if(zt(n)){n.splice(e,0,n.splice(n.indexOf(this),1)[0])}else{re(r.tags,t,this)}}function Ke(t,e){var r=this;var n=this.__.head;var i;var a=It();while(n){i=n.nextSibling;a.appendChild(n);n=i;if(n===r.__.tail){a.appendChild(n);t.insertBefore(a,e.__.head);break}}}function qe(t,e,r,n){var i=n?Ot(n):{};i[t.key]=e;if(t.pos){i[t.pos]=r}return i}function Ge(t,e){var r=e.length;var n=t.length;while(r>n){r--;We.apply(e[r],[e,r])}}function We(t,e){t.splice(e,1);this.unmount();be(this.parent,this,this.__.tagName,true)}function Ze(e){var r=this;Zt(Object.keys(this.tags),function(t){ze.apply(r.tags[t],[t,e])})}function Qe(t,e,r){if(r){Ke.apply(this,[t,e])}else{Pt(t,this.root,e.root)}}function Je(t,e,r){if(r){xe.apply(this,[t,e])}else{Pt(t,this.root,e.root)}}function Xe(t,e){if(e){xe.call(this,t)}else{t.appendChild(this.root)}}function Ye(t,e,r,n){if(t){return n?_t(t,r):e[t]}return e}function tr(d,g,m){var y=typeof kt(d,D)!==W||Lt(d,D);var _=kt(d,q);var w=_?_t.hasExpr(_):false;var b=ie(d);var x=P[b];var t=d.parentNode;var e=Tt();var N=ne(d);var n=kt(d,U);var A=[];var O=true;var j=d.innerHTML;var C=!P[b];var T=d.tagName==="VIRTUAL";var E=[];var k;Lt(d,H);Lt(d,q);m=_t.loopKeys(m);m.isLoop=true;if(n){Lt(d,U)}t.insertBefore(e,d);t.removeChild(d);m.update=function t(){m.value=_t(m.val,g);var c=m.value;var p=It();var r=!zt(c)&&!qt(c);var h=e.parentNode;var v=[];if(!h){return}if(r){k=c||false;c=k?Object.keys(c).map(function(t){return qe(m,c[t],t)}):[]}else{k=false}if(n){c=c.filter(function(t,e){if(m.key&&!r){return!!_t(n,qe(m,t,e,g))}return!!_t(n,At(Ot(g),t))})}Zt(c,function(t,e){var r=!k&&m.key?qe(m,t,e):t;var n=Ye(_,t,r,w);var i=y&&typeof t===Z&&!k;var a=E.indexOf(n);var o=a===-1;var s=!o&&i?a:e;var u=A[s];var f=e>=E.length;var l=i&&o||!i&&!u;if(l){u=cr(x,{parent:g,isLoop:O,isAnonymous:C,tagName:b,root:d.cloneNode(C),item:r,index:e},j);u.mount();if(f){Xe.apply(u,[p||h,T])}else{Je.apply(u,[h,A[e],T])}if(!f){E.splice(e,0,r)}A.splice(e,0,u);if(N){re(g.tags,b,u,true)}}else if(s!==e&&i){if(_||Wt(c,E[s])){Qe.apply(u,[h,A[e],T]);A.splice(e,0,A.splice(s,1)[0]);E.splice(e,0,E.splice(s,1)[0])}if(m.pos){u[m.pos]=e}if(!N&&u.tags){Ze.call(u,e)}}At(u.__,{item:r,index:e,parent:g});v[e]=n;if(!l){u.update(r)}});Ge(c,A);E=v.slice();h.insertBefore(p,e)};m.unmount=function(){Zt(A,function(t){t.unmount()})};return m}var er={init:function t(e,r,n,i){this.dom=e;this.attr=n;this.rawValue=i;this.parent=r;this.hasExp=_t.hasExpr(i);return this},update:function t(){var e=this.value;var r=this.parent&&me(this.parent);var n=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?_t(this.rawValue,this.parent):this.rawValue;if(!Ft(e)&&r){be(r.refs,e,n)}if(!Ft(this.value)&&qt(this.value)){if(r){re(r.refs,this.value,n,null,this.parent.__.index)}if(this.value!==e){lt(this.dom,this.attr,this.value)}}else{Lt(this.dom,this.attr)}if(!this.dom.__ref){this.dom.__ref=n}},unmount:function t(){var e=this.tag||this.dom;var r=this.parent&&me(this.parent);if(!Ft(this.value)&&r){be(r.refs,this.value,e)}}};function rr(t,e,r,n){return Ot(er).init(t,e,r,n)}function nr(t){Zt(t,function(t){if(t.unmount){t.unmount(true)}else if(t.tagName){t.tag.unmount(true)}else if(t.unmount){t.unmount()}})}var ir={init:function t(e,r,n){Lt(e,U);At(this,{tag:r,expr:n,stub:Tt(),pristine:e});var i=e.parentNode;i.insertBefore(this.stub,e);i.removeChild(e);return this},update:function t(){this.value=_t(this.expr,this.tag);if(this.value&&!this.current){this.current=this.pristine.cloneNode(true);this.stub.parentNode.insertBefore(this.current,this.stub);this.expressions=or.apply(this.tag,[this.current,true])}else if(!this.value&&this.current){nr(this.expressions);if(this.current._tag){this.current._tag.unmount()}else if(this.current.parentNode){this.current.parentNode.removeChild(this.current)}this.current=null;this.expressions=[]}if(this.value){Ce.call(this.tag,this.expressions)}},unmount:function t(){nr(this.expressions||[])}};function ar(t,e,r){return Ot(ir).init(t,e,r)}function or(o,s){var u=this;var f=[];Bt(o,function(t){var e=t.nodeType;var r;var n;if(!s&&t===o){return}if(e===3&&t.parentNode.tagName!=="STYLE"&&_t.hasExpr(t.nodeValue)){f.push({dom:t,expr:t.nodeValue})}if(e!==1){return}var i=t.tagName==="VIRTUAL";if(r=kt(t,H)){if(i){lt(t,"loopVirtual",true)}f.push(tr(t,u,r));return false}if(r=kt(t,U)){f.push(ar(t,u,r));return false}if(r=kt(t,F)){if(_t.hasExpr(r)){f.push({isRtag:true,expr:r,dom:t,attrs:[].slice.call(t.attributes)});return false}}n=ne(t);if(i){if(kt(t,"virtualized")){t.parentElement.removeChild(t)}if(!n&&!kt(t,"virtualized")&&!kt(t,"loopVirtual")){n={tmpl:t.outerHTML}}}if(n&&(t!==o||s)){if(i){if(kt(t,F)){te("Virtual tags shouldn't be used together with the \""+F+'" attribute - https://github.com/riot/riot/issues/2511')}lt(t,"virtualized",true);var a=cr({tmpl:t.outerHTML},{root:t,parent:u},t.innerHTML);f.push(a)}else{f.push(we(n,{root:t,parent:u},t.innerHTML,u));return false}}sr.apply(u,[t,t.attributes,function(t,e){if(!e){return}f.push(e)}])});return f}function sr(i,t,a){var o=this;Zt(t,function(t){if(!t){return false}var e=t.name;var r=Kt(e);var n;if(Wt($,e)&&i.tagName.toLowerCase()!==M){n=rr(i,o,e,t.value)}else if(_t.hasExpr(t.value)){n={dom:i,expr:t.value,attr:e,bool:r}}a(t,n)})}function ur(t){var e=this.__;var r=e.isAnonymous;Xt(this,"isMounted",t);if(!r){if(t){this.trigger("mount")}else{this.trigger("unmount");this.off("*");this.__.wasCreated=false}}}function fr(r,t,n,e){var i=r.__;var a=i.root;a._tag=r;sr.apply(i.parent,[a,a.attributes,function(t,e){if(!i.isAnonymous&&er.isPrototypeOf(e)){e.tag=r}t.expr=e;i.instAttrs.push(t)}]);Rt(i.impl.attrs,function(t,e){i.implAttrs.push({name:t,value:e})});sr.apply(r,[a,i.implAttrs,function(t,e){if(e){n.push(e)}else{lt(a,t.name,t.value)}}]);Te.apply(r,[i.isLoop,i.parent,i.isAnonymous,e,i.instAttrs]);var o=Ve(B);if(o&&!i.skipAnonymous){for(var s in o){if(o.hasOwnProperty(s)){r.mixin(o[s])}}}if(i.impl.fn){i.impl.fn.call(r,e)}if(!i.skipAnonymous){r.trigger("before-mount")}Zt(or.apply(r,[t,i.isAnonymous]),function(t){return n.push(t)});r.update(i.item);if(!i.isAnonymous&&!i.isInline){while(t.firstChild){a.appendChild(t.firstChild)}}Xt(r,"root",a);if(!i.skipAnonymous&&r.parent){var u=me(r.parent);u.one(!u.isMounted?"mount":"updated",function(){ur.call(r,true)})}else{ur.call(r,true)}r.__.wasCreated=true;return r}function lr(e,t,r){var n=e.__;var i=n.root;var a=I.indexOf(e);var o=i.parentNode;if(!n.skipAnonymous){e.trigger("before-unmount")}Rt(n.impl.attrs,function(t){if(Qt(t,V)){t=t.slice(V.length)}Lt(i,t)});e.__.listeners.forEach(function(e){Object.keys(e[G]).forEach(function(t){e.removeEventListener(t,e[G][t])})});if(a!==-1){I.splice(a,1)}if(n.parent&&!n.isAnonymous){var s=me(n.parent);if(n.isVirtual){Object.keys(e.tags).forEach(function(t){return be(s.tags,t,e.tags[t])})}else{be(s.tags,n.tagName,e)}}if(e.__.virts){Zt(e.__.virts,function(t){if(t.parentNode){t.parentNode.removeChild(t)}})}nr(r);Zt(n.instAttrs,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()});if(t){St(i,"")}else if(o){o.removeChild(i)}if(n.onUnmount){n.onUnmount()}if(!e.isMounted){ur.call(e,true)}ur.call(e,false);delete i._tag;return e}function cr(t,e,r){if(t===void 0)t={};if(e===void 0)e={};var n=e.context||{};var i=At({},e.opts);var a=e.parent;var o=e.isLoop;var s=!!e.isAnonymous;var u=jt.skipAnonymousTags&&s;var f=e.item;var l=e.index;var c=[];var p=[];var h=[];var v=e.root;var d=e.tagName||ie(v);var g=d==="virtual";var m=!g&&!t.tmpl;var y;if(!u){wt(n)}if(t.name&&v._tag){v._tag.unmount(true)}Xt(n,"isMounted",false);Xt(n,"__",{impl:t,root:v,skipAnonymous:u,implAttrs:p,isAnonymous:s,instAttrs:c,innerHTML:r,tagName:d,index:l,isLoop:o,isInline:m,item:f,parent:a,listeners:[],virts:[],wasCreated:false,tail:null,head:null});Xt(n,"_riot_id",Jt());Xt(n,"root",v);At(n,{opts:i},f);Xt(n,"parent",a||null);Xt(n,"tags",{});Xt(n,"refs",{});if(m||o&&s){y=v}else{if(!g){v.innerHTML=""}y=ge(t.tmpl,r,Dt(v))}Xt(n,"update",function(t){return Ee(n,t,h)});Xt(n,"mixin",function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return De.apply(void 0,[n].concat(t))});Xt(n,"mount",function(){return fr(n,y,h,i)});Xt(n,"unmount",function(t){return lr(n,t,h)});return n}function pr(t,e,r,n){var i=P[e];var a=P[e].class;var o=n||(a?Ot(a.prototype):{});var s=t._innerHTML=t._innerHTML||t.innerHTML;var u=At({root:t,opts:r,context:o},{parent:r?r.parent:null});var f;if(i&&t){f=cr(i,u,s)}if(f&&f.mount){f.mount(true);if(!Wt(I,f)){I.push(f)}}return f}var hr=Object.freeze({arrayishAdd:re,getTagName:ie,inheritParentProps:ae,mountTo:pr,selectTags:ke,arrayishRemove:be,getTag:ne,initChildTag:we,moveChildTag:ze,makeReplaceVirtual:Ne,getImmediateCustomParentTag:me,makeVirtual:xe,moveVirtual:Ke,unmountAll:nr,createIfDirective:ar,createRefDirective:rr});var vr=jt;var dr={tmpl:_t,brackets:yt,styleManager:gt,vdom:I,styleNode:gt.styleNode,dom:Vt,check:Gt,misc:ee,tags:hr};var gr=At({},He,{observable:wt,settings:vr,util:dr});var mr=function(t){var e=[],r=arguments.length-1;while(r-- >0)e[r]=arguments[r+1];e.unshift("[riotx]");try{console.log.apply(console,e)}catch(t){console.log(e)}};var yr={debug:false,default:"@",changeBindName:"riotxChange",strict:false,logger:{output:mr}};var _r=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(!yr.debug){return}t.unshift("DEBUG");yr.logger.output.apply(null,t)};var wr=function(t){var e=new Error("[riotx] "+t);yr.logger.output.apply(null,["ERROR",e]);throw e};var br=function t(e){var r=this;this.name=e.name;if(!this.name){this.name=yr.default;_r("Default store name. name="+this.name)}this._state=e.state;Object.defineProperty(this,"state",{get:function(){if(yr.strict){wr("[strict] Direct access get error.")}return r._state},set:function(t){if(yr.strict){wr("[strict] Direct access set error. "+t)}r._state=t}});this._actions=e.actions;this._mutations=e.mutations;this._getters=e.getters;this._plugins=e.plugins;gr.observable(this);s(this._plugins,function(t){if(!w(t)){wr("[plugin] The plugin is not a function.")}t.apply(null,[r])})};br.prototype.reset=function t(){this.name=null;this._state=null;this._actions=null;this._mutations=null;this._getters=null;this._plugins=null;this.off("*")};br.prototype.getter=function t(e,r){if(r&&!x(r)){wr("[getter]', 'The getter data is not object type. name="+e+" data="+r)}var n={state:this._state};var i=this._getters[e];if(!i||!w(i)){wr("[getter]', 'The getter is not a function. name="+e+" data="+r)}_r("[getter]",e,r);return i.apply(null,[n,r])};br.prototype.commit=function t(e,r){var n=this;if(r&&!x(r)){wr("[mutation]', 'The mutation data is not object type. name="+e+" data="+r)}var i={getter:function(t,e){return n.getter.apply(n,[t,e])},state:this._state};var a=this._mutations[e];if(!a||!w(a)){wr("[mutation]', 'The mutation is not a function. name="+e+" data="+r)}_r("[mutation(before)]",e,this._state,r);var o=a.apply(null,[i,r]);_r("[mutation(after)]",e,this._state,r);this.trigger("riotx:mutations:after",e,o,i,r);s(o,function(t){n.trigger(t,n._state,n)})};br.prototype.action=function t(e,r){var n=this;if(r&&!x(r)){wr("[action]', 'The action data is not object type. name="+e+" data="+r)}var i={getter:function(t,e){return n.getter.apply(n,[t,e])},commit:function(t,e){n.commit(t,e)}};var a=this._actions[e];if(!a||!w(a)){wr("[action] The action is not a function. name="+e+" data="+r)}_r("[action]",e,r);return j.resolve().then(function(){return a.apply(null,[i,r])})};br.prototype.change=function t(){var e;var r=[],n=arguments.length;while(n--)r[n]=arguments[n];(e=this).on.apply(e,r)};var xr=function t(){this.version=e||"";this.Store=br;this.stores={};var r=function(t,e,r){var n=[],i=arguments.length-3;while(i-- >0)n[i]=arguments[i+3];this._riotx_change_handlers.push({store:t,evtName:e,handler:r});n.unshift(r);n.unshift(e);t.change.apply(t,n)};gr.mixin({init:function(){var e=this;this.on("unmount",function(){e.off("*");s(e._riotx_change_handlers,function(t){t.store.off(t.evtName,t.handler)});delete e.riotx;delete e._riotx_change_handlers;delete e[yr.changeBindName]});if(yr.debug){this.on("*",function(t){_r("[riot.mixin]",t,e)})}this._riotx_change_handlers=[];this[yr.changeBindName]=r},riotx:this})};xr.prototype.add=function t(e){if(this.stores[e.name]){wr("[store.add] The store instance named `"+e.name+"` already exists.")}this.stores[e.name]=e;return this};xr.prototype.get=function t(e){if(e===void 0)e=yr.default;return this.stores[e]};xr.prototype.debug=function t(e){yr.debug=!!e;return this};xr.prototype.setChangeBindName=function t(e){yr.changeBindName=e;return this};xr.prototype.strict=function t(e){yr.strict=!!e;return this};xr.prototype.logger=function t(e){yr.logger.output=e;return this};xr.prototype.reset=function t(){o(this.stores||{},function(t){t.reset()});this.stores={};return this};xr.prototype.size=function t(){return v(this.stores).length};var Nr=new xr;return Nr});